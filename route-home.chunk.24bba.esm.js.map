{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///../node_modules/react-range/lib/index.js","webpack:///../node_modules/react-range/lib/types.js","webpack:///./components/main-page/catalog/catalogReducer.js","webpack:///./components/main-page/catalog/index.js","webpack:///./components/ui/search-input/index.js","webpack:///./components/main-page/catalog/filters/style.scss","webpack:///./assets/image/cafeteria/img.png","webpack:///./components/main-page/catalog/filters/option-wrapper.js","webpack:///./assets/image/main-page/contacts/bg.png","webpack:///./components/main-page/section-template/style.scss","webpack:///./components/main-page/catalog/filters/price-form.js","webpack:///./routes/home/style.scss","webpack:///./components/ui/pagination/style.scss","webpack:///./components/main-page/stock/index.js","webpack:///../node_modules/react-range/lib/Range.js","webpack:///./components/ui/pagination/index.js","webpack:///./assets/image/main-page/contacts/map.png","webpack:///./components/ibg/index.js","webpack:///./components/main-page/catalog/filters/index.js","webpack:///./components/ui/search-input/style.scss","webpack:///./components/described-image/index.js","webpack:///./components/ui/block-title/style.scss","webpack:///./components/ui/heart-btn/index.js","webpack:///./components/main-page/catalog/style.scss","webpack:///./hooks/useAddBookToCart.js","webpack:///./components/main-page/catalog/sort.js","webpack:///./helpers/throttle.js","webpack:///./constants/genres.js","webpack:///../node_modules/react-range/lib/utils.js","webpack:///./components/main-page/catalog/productsLoop.js","webpack:///./components/book-card/style.scss","webpack:///./components/main-page/catalog/filters/genres-form.js","webpack:///./components/book-card/index.js","webpack:///../node_modules/final-form/dist/final-form.es.js","webpack:///../node_modules/react-final-form/dist/react-final-form.es.js","webpack:///./components/described-image/style.scss","webpack:///./components/main-page/stock/style.scss","webpack:///./constants/sortTypes.js","webpack:///./components/main-page/section-template/index.js","webpack:///./components/ui/block-title/index.js","webpack:///./api/books.js"],"names":["Home","class","style","promo","promo__blackout","promo__wrapper","promo__title","promo__quote","quote","quote__text","quote__author","className","homeSection","title","text","linkText","img","cafeteriaImg","stock__content","contacts","contacts__content","backgroundImage","contactsBg","contacts__grid","contacts__title","contacts__map","contactsMap","contacts__contactsList","contacts__contactItem","contactItem","contactItem__key","href","contactItem__value","__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","checkValuesAgainstBoundaries","relativeValue","useThumbOverlap","Direction","getTrackBackground","Range","Range_1","require","default","utils_1","enumerable","get","types_1","catalogInitialState","search","sortType","keys","sortTypes","filters","priceRange","page","booksCount","catalogReducer","state","action","type","payload","perPage","document","documentElement","offsetWidth","Catalog","products","setProducts","useState","catalogState","catalogDispatch","useReducer","isLoading","setIsLoading","fetchBooksRaw","useCallback","async","response","getBooks","queryParams","pagination","books","booksPriceRange","totalCount","fetchBooks","throttle","setSearch","setSort","setPage","useEffect","catalog","catalog__grid","catalog__filtersWrapper","catalog__filtersTitle","filtersTitle","catalog__filters","reducer","catalog__productsWrapper","searchSort","sort","searchSort__search","catalog__productsGrid","productsGrid","catalog__pagination","SearchInput","onInputChange","e","target","search__input","onChange","placeholder","OptionWrapper","gonnaOpenModal","children","isModalOpen","setIsModalOpen","beforeOpenModalListener","window","addEventListener","removeEventListener","filters__item","formOption","formOption__header","formTitle","onClick","width","height","viewBox","fill","d","stroke","formOption__closeModal","priceForm__slider","formOption__content","PriceForm","minPrice","maxPrice","form","rangeValues","setRangeValues","onRangeChanges","values","change","submit","priceSlider","name","render","input","draggableTrack","step","min","max","renderTrack","props","onMouseDown","onTouchStart","priceSlider__sliderContainer","ref","priceSlider__center","background","colors","rtl","renderThumb","priceSlider__thumb","priceSlider__labels","Stock","setPagination","onSale","grid","map","item","key","id","grid__item","book","isStock","stock__pagination","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","TypeError","String","create","__createBinding","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","configurable","__setModuleDefault","v","__importStar","result","__spreadArray","to","from","pack","arguments","length","ar","i","l","slice","concat","React","INCREASE_KEYS","DECREASE_KEYS","_super","_this","trackRef","createRef","thumbRefs","draggedTrackPos","draggedThumbIndex","thumbZIndexes","t","isChanged","markOffsets","getOffsets","_a","direction","trackElement","current","trackRect","getBoundingClientRect","trackPadding","getPaddingAndBorder","getThumbs","thumb","index","thumbOffsets","x","y","thumbRect","thumbMargins","getMargin","Right","left","top","Left","right","Up","Down","assertUnreachable","filter","el","hasAttribute","console","warn","getTargetIndex","findIndex","child","contains","addTouchEvents","schdOnTouchMove","passive","schdOnEnd","addMouseEvents","schdOnMouseMove","onMouseDownTrack","button","persist","preventDefault","nativeEvent","some","thumbRef","setState","clientX","clientY","onMove","getClosestThumbIndex","focus","onResize","translateThumbs","calculateMarkOffsets","onTouchStartTrack","touches","onMouseOrTouchStart","disabled","isTouch","isTouchEvent","Math","apply","onMouseMove","onTouchMove","onKeyDown","inverter","includes","replaceAt","normalizeValue","fireOnFinalChange","onKeyUp","_b","trackLength","isVertical","dX","dY","deltaValue","abs","sign","thumbValue","newValues","newValue","allowOverlap","onEnd","onFinalChange","updateMarkRefs","renderMark","numOfMarks","markRefs","elStyles","getComputedStyle","trackWidth","parseInt","trackHeight","paddingLeft","paddingTop","res","markHeight","markWidth","markRect","push","round","Error","schd","componentDidMount","resizeObserver","ResizeObserver","observe","unobserve","checkInitialOverlap","forEach","checkBoundaries","isStepDivisible","componentDidUpdate","prevProps","prevState","componentWillUnmount","_c","transform","cursor","voidFn","isDragged","offset","position","marginTop","marginLeft","zIndex","userSelect","touchAction","WebkitUserSelect","MozUserSelect","msUserSelect","tabIndex","draggable","role","defaultProps","Component","Pagination","pageCount","ceil","pages","pageCounter","dots","pagination__item","dot","pagination__dot","IBG","Filters","beforeOpenModalEvent","Event","dispatchEvent","setFilters","formObj","genres","join","fromPrice","toPrice","onSubmit","subscription","submitting","handleSubmit","DescribedImage","textColor","container","block","link","image","HeartBtn","checked","onAddToCart","useAddBookToCart","authReducer","useSelector","dispatch","useDispatch","hasTryedAdd","setHasTryedAdd","addToCartCallback","onAdded","isAuthenticated","addElement","setPopupState","isAuthPopupOpen","Sort","searchSort__sortWrapper","searchSort__sort","func","ms","savedArgs","isThrottled","wrapper","args","setTimeout","standardGenres","detective","roman","science","classic","history","psychological","translate","element","getThumbDistance","thumbEl","getStepDecimals","react_1","decimals","toString","split","event","changedTouches","roundedRes","Number","toFixed","BIG_NUM","prev","next","remainder","floor","closestLowerNum","rounded","decimalPlaces","parseFloat","RangeError","every","bottom","elements","offsets","thumbs","thumbIndex","minThumbDistance","thumbDistance","fn","lastArgs","frameId","_i","requestAnimationFrame","ret","middle","a","reduce","acc","point","getThumbWidth","separator","valueToLabel","elWidth","innerText","childElementCount","elClone","cloneNode","innerHTML","visibility","body","appendChild","removeChild","rangeRef","labelStyle","setLabelStyle","labelValue","setLabelValue","newStyle","offsets_1","overlaps","buildOverlaps","thumbXWidth","thumbX","siblingIndex","siblingX","siblingWidth","Set","getOverlaps","labelValue_1","offsetsX","c","s","labelValues_1","first","last","lastWidth","indexOf","ProductsLoop","productsGrid__item","GenresForm","genreForm__list","genreForm__item","BookCard","isInCart","cartReducer","cartElements","find","addToCart","ratingStars","salePrice","rating","card__star","onBuyBtnClick","route","card","card__img","card__content","card__rating","card__starWrapper","card__heart","ratingNumber","card__metaWrapper","card__name","card__author","author","card__year","year","card__footer","card__buyBtn","card__price","price","card__newPrice","_toPropertyKey","arg","hint","prim","Symbol","toPrimitive","_toPrimitive","publishFieldState","formState","field","errors","initialValues","lastSubmittedValues","submitErrors","submitFailed","submitSucceeded","active","blur","data","modified","modifiedSinceLastSubmit","touched","validating","visited","getIn","error","ARRAY_ERROR","submitError","initial","pristine","isEqual","valid","dirty","dirtySinceLastSubmit","invalid","isArray","subscriptionFilter","dest","src","previous","shallowEqualKeys","different","shallowEqual","filterFormState","previousState","force","formSubscriptionItems","notifySubscriber","subscriber","lastState","notification","notify","_ref2","entries","entry","notified","createForm","config","debug","destroyOnUnregister","keepDirtyOnReinitialize","mutators","validate","validateOnBlur","subscribers","fieldSubscribers","fields","asyncErrors","_extends","resetWhileSubmitting","lastFormState","inBatch","validationPaused","validationBlocked","preventNotificationWhileValidationPaused","nextAsyncValidationKey","asyncValidationPromises","changeValue","mutate","after","setIn","renameField","_extends2","_extends3","api","lastFieldState","getMutatorApi","mutatableState","_len","_key","returnValue","resetFieldState","runValidation","notifyFieldListeners","notifyFormListeners","mutatorsApi","getValidators","validators","validator","fieldChanged","callback","safeFields","fieldKeys","limitedFieldLevelValidation","changedField","validateFields","recordLevelErrors","asyncRecordLevelErrors","fieldLevelErrors","promises","setErrors","errorsOrPromise","isPromise","then","runRecordLevelValidation","wasAsync","setError","errorOrPromise","promise","runFieldLevelValidation","hasAsyncValidations","asyncValidationPromiseKey","Promise","all","processErrors","afterAsync","merged","forEachError","recordLevelError","errorFromParent","hasFieldLevelValidation","existing","copy","FORM_ERROR","afterPromise","notifyField","fieldState","fieldSubscriber","filterFieldState","markAllFieldsTouched","calculateNextFormState","safeFieldKeys","foundDirty","dirtyFields","dirtyFieldsSinceLastSubmit","nonNullLastSubmittedValues","hasAnyError","nextFormState","_ref","hasSubmitErrors","hasValidationErrors","convertToExternalFormState","_safeFieldKeys$reduce","notifying","scheduleNotification","resetModifiedAfterSubmit","batch","getFieldState","getRegisteredFields","getState","initialize","savedDirtyValues","isValidationPaused","pauseValidation","preventNotification","registerField","fieldConfig","memoize","afterSubmit","beforeSubmit","tripleEquals","haveValidator","silent","getValidator","noValueInFormState","initialValue","defaultValue","validatorRemoved","hasFieldSubscribers","lastOne","reset","restart","resumeValidation","setConfig","asyncValidationPromisesKeys","resolvePromise","completeCalled","complete","resolve","subscribe","memoized","renderComponent","lazyProps","component","rest","_objectWithoutPropertiesLoose","_excluded$3","useWhenValueChanges","React__default","useRef","useLatest","ReactFinalForm","init","_ref$decorators","decorators","alternateFormApi","initialValuesEqual","_ref$subscription","all$1","_excluded$2","f","_React$useState","initialState","stateRef","unsubscriptions","decorator","reverse","unsubscribe","renderProps","eventOrValues","isSyntheticEvent","stopPropagation","addLazyFormState","ReactFinalFormContext","Provider","__versions","versions","useForm","componentName","useConstantCallback","useField","allowNull","_config$format","format","defaultFormat","formatOnBlur","multiple","_config$parse","parse","defaultParse","_config$subscription","_value","configRef","register","_configRef$current","_configRef$current$fo","formatted","defaultIsEqual","firstRender","meta","addLazyState","addLazyFieldMetaState","onBlur","currentValue","valueProp","isReactNative","_detypedEvent$target","options","option","selected","getSelectedValues","getValue","onFocus","charCodeOfDot","charCodeAt","reEscapeChar","rePropName","RegExp","keysCache","toPath","string","replace","match","expression","subString","trim","complexKey","path","isNaN","setInRecursor","destroyArrays","_result2","_result","numKeys","numericKey","_result3","_array","array","splice","fieldSubscriptionItems","keysA","keysB","bHasOwnProperty","bind","idx","shallowEqualKeys$1","lastResult","obj","candidate","navigator","product","_excluded","Field","popular","SectionTemplate","BlockTitle","color","blockTitle","paramsQuery","filterKey","filterValue","axios","getOneBook"],"mappings":"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","file":"route-home.chunk.24bba.esm.js","sourcesContent":["import style from './style.scss';\r\n\r\nimport cafeteriaImg from '../../assets/image/cafeteria/img.png';\r\nimport contactsBg from '../../assets/image/main-page/contacts/bg.png';\r\nimport contactsMap from '../../assets/image/main-page/contacts/map.png';\r\n\r\nimport DescribedImage from '../../components/described-image';\r\nimport Catalog from '../../components/main-page/catalog';\r\nimport SectionTemplate from '../../components/main-page/section-template';\r\nimport Stock from '../../components/main-page/stock';\r\nimport BlockTitle from '../../components/ui/block-title';\r\nimport Button from '../../components/ui/button';\r\n\r\nconst Home = () => (\r\n    <main>\r\n        <section class={style.promo}>\r\n            <div class={`${style.promo__blackout} _blackout _blackout--visible`} />\r\n            <div class={`${style.promo__wrapper} _container`}>\r\n                <h2 class={style.promo__title}>\r\n                    <em>Ваши любимые книги</em>\r\n                    <br />\r\n                    НА КАЖДЫЙ ДЕНЬ\r\n                </h2>\r\n\r\n                <div class={`${style.promo__quote} ${style.quote}`}>\r\n                    <p class={style.quote__text}>\r\n                        Человек, который читает, проживает тысячу\r\n                        <br />\r\n                        жизней. Тот, кто не читает, проживает лишь\r\n                        <br />\r\n                        одну.\r\n                    </p>\r\n\r\n                    <div class={style.quote__author}>\r\n                        <span>Дж.Мартин</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <Button>Каталог</Button>\r\n            </div>\r\n        </section>\r\n\r\n        <Catalog className={style.homeSection} />\r\n\r\n        <SectionTemplate title=\"КОФЕЙНЯ\">\r\n            <br />\r\n            <DescribedImage\r\n                text=\"Что может быть приятнее, чем, устроившись поудобнее с чашечкой кофе в руках,\r\n                        почитать часок-другой книгу? Именно у нас вы сможете не только вкусно поесть,\r\n                        но и уделить время чтению книг,\r\n                        в изобилии разместившихся на полках. Места хватит для всех, так как у нас есть целых три зала!\"\r\n                linkText=\"Больше информации\"\r\n                img={cafeteriaImg}\r\n            />\r\n        </SectionTemplate>\r\n\r\n        <Stock className={style.stock__content} />\r\n\r\n        <section class={`${style.homeSection} ${style.contacts}`}>\r\n            <div class=\"_container\">\r\n                <BlockTitle>КОНТАКТЫ</BlockTitle>\r\n            </div>\r\n\r\n            <div class={`${style.contacts__content} _ibg`} style={{ backgroundImage: `url(${contactsBg})` }}>\r\n                <div class={`_container ${style.contacts__grid}`}>\r\n                    <h2 class={style.contacts__title}>\r\n                        Свяжитесь с нами удобным для Вас способом, будем рады сотрудничеству!\r\n                    </h2>\r\n\r\n                    <div class={`${style.contacts__map} _ibg`} style={{ backgroundImage: `url(${contactsMap})` }} />\r\n\r\n                    <div class={style.contacts__contactsList}>\r\n                        <div class={`${style.contacts__contactItem} ${style.contactItem}`}>\r\n                            <span class={style.contactItem__key}>Звоните по номеру :</span>\r\n                            <a href=\"tel:+7919651892\" class={style.contactItem__value}>\r\n                                <i class=\"icon-phone\" /> 7919651892\r\n                            </a>\r\n                        </div>\r\n\r\n                        <div class={`${style.contacts__contactItem} ${style.contactItem}`}>\r\n                            <span class={style.contactItem__key}>Мы находимся по адресу :</span>\r\n                            <span class={style.contactItem__value}>\r\n                                <i class=\"icon-map-pointer\" /> Г. Санкт-Петербург, проспект Добролюбова 47а\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div class={`${style.contacts__contactItem} ${style.contactItem}`}>\r\n                            <span class={style.contactItem__key}>Электронная почта :</span>\r\n                            <span class={style.contactItem__value}>\r\n                                <i class=\"icon-mail-big\" /> bookstocksaint-p@gmail.com\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div class={`${style.contacts__contactItem} ${style.contactItem}`}>\r\n                            <span class={style.contactItem__key}>Наши соц сети :</span>\r\n                            <span class={`${style.contactItem__value} ${style['contactItem__value--icons-list']}`}>\r\n                                <a href=\"#\">\r\n                                    <i class=\"icon-instagram\" />\r\n                                </a>\r\n                                <a href=\"#\">\r\n                                    <i class=\"icon-tiktok\" />\r\n                                </a>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </main>\r\n);\r\n\r\nexport default Home;\r\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkValuesAgainstBoundaries = exports.relativeValue = exports.useThumbOverlap = exports.Direction = exports.getTrackBackground = exports.Range = void 0;\nvar Range_1 = __importDefault(require(\"./Range\"));\nexports.Range = Range_1.default;\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"getTrackBackground\", { enumerable: true, get: function () { return utils_1.getTrackBackground; } });\nObject.defineProperty(exports, \"useThumbOverlap\", { enumerable: true, get: function () { return utils_1.useThumbOverlap; } });\nObject.defineProperty(exports, \"relativeValue\", { enumerable: true, get: function () { return utils_1.relativeValue; } });\nObject.defineProperty(exports, \"checkValuesAgainstBoundaries\", { enumerable: true, get: function () { return utils_1.checkValuesAgainstBoundaries; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"Direction\", { enumerable: true, get: function () { return types_1.Direction; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Direction = void 0;\nvar Direction;\n(function (Direction) {\n    Direction[\"Right\"] = \"to right\";\n    Direction[\"Left\"] = \"to left\";\n    Direction[\"Down\"] = \"to bottom\";\n    Direction[\"Up\"] = \"to top\";\n})(Direction = exports.Direction || (exports.Direction = {}));\n","import sortTypes from '../../../constants/sortTypes';\n\nconst catalogInitialState = {\n    search: '',\n    sortType: Object.keys(sortTypes)[0],\n    filters: {},\n    priceRange: [10, 100],\n    page: 1,\n    booksCount: null,\n};\n\nconst catalogReducer = (state, action) => {\n    switch (action.type) {\n        case 'setSearch':\n            return { ...state, search: action.payload, page: 1, booksCount: null };\n\n        case 'setSort':\n            return { ...state, sortType: action.payload, page: 1 };\n\n        case 'setFilters':\n            return { ...state, filters: action.payload, page: 1, booksCount: null };\n\n        case 'setPriceRange':\n            return { ...state, priceRange: action.payload };\n\n        case 'setPage':\n            return { ...state, page: action.payload };\n\n        case 'setBooksCount':\n            return { ...state, booksCount: action.payload };\n\n        default:\n            return state;\n    }\n};\n\nexport { catalogReducer, catalogInitialState };\n","import { useCallback, useEffect, useReducer, useState } from 'preact/hooks';\n\nimport { catalogReducer, catalogInitialState } from './catalogReducer';\nimport Filters from './filters';\nimport ProductsLoop from './productsLoop';\nimport Sort from './sort';\nimport style from './style.scss';\n\nimport { getBooks } from '../../../api/books';\nimport throttle from '../../../helpers/throttle';\nimport Pagination from '../../ui/pagination';\nimport SearchInput from '../../ui/search-input';\nimport SectionTemplate from '../section-template';\n\nlet perPage = document.documentElement.offsetWidth >= 480 ? 6 : 3;\n\nconst Catalog = ({}) => {\n    const [products, setProducts] = useState([]);\n    const [catalogState, catalogDispatch] = useReducer(catalogReducer, catalogInitialState);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const fetchBooksRaw = useCallback(async queryParams => {\n        const response = await getBooks({ ...queryParams, pagination: { page: queryParams.page, perPage } });\n\n        setProducts(response.books);\n\n        if (response.booksPriceRange) catalogDispatch({ type: 'setPriceRange', payload: response.booksPriceRange });\n\n        if (response.totalCount) catalogDispatch({ type: 'setBooksCount', payload: response.totalCount });\n\n        setIsLoading(false);\n    }, []);\n\n    const fetchBooks = useCallback(throttle(fetchBooksRaw, 1000), []);\n\n    const setSearch = useCallback(payload => catalogDispatch({ type: 'setSearch', payload }), []);\n    const setSort = useCallback(payload => catalogDispatch({ type: 'setSort', payload }), []);\n    const setPage = useCallback(payload => catalogDispatch({ type: 'setPage', payload }), []);\n\n    useEffect(() => {\n        setIsLoading(true);\n        fetchBooks(catalogState);\n    }, [catalogState.search, catalogState.sortType, catalogState.filters, catalogState.page, perPage]);\n\n    return (\n        <SectionTemplate className={style.catalog} title=\"Каталог\">\n            <div class={style.catalog__grid}>\n                <div class={style.catalog__filtersWrapper}>\n                    <span class={`${style.catalog__filtersTitle} ${style.filtersTitle}`}>Фильтры</span>\n\n                    <Filters\n                        className={`${style.catalog__filters} ${style.filters}`}\n                        reducer={[catalogState, catalogDispatch]}\n                    />\n                </div>\n\n                <div class={style.catalog__productsWrapper}>\n                    <div class={style.searchSort}>\n                        <Sort sort={catalogState.sortType} setSort={setSort} />\n\n                        <SearchInput\n                            className={style.searchSort__search}\n                            search={catalogState.search}\n                            setSearch={setSearch}\n                        />\n                    </div>\n\n                    <div class={`${style.catalog__productsGrid} ${style.productsGrid}`}>\n                        <ProductsLoop isLoading={isLoading} products={products} />\n                    </div>\n                </div>\n            </div>\n\n            {catalogState.booksCount && (\n                <Pagination\n                    className={style.catalog__pagination}\n                    setPage={setPage}\n                    pagination={{\n                        page: catalogState.page,\n                        perPage,\n                        totalCount: catalogState.booksCount,\n                    }}\n                />\n            )}\n        </SectionTemplate>\n    );\n};\n\nexport default Catalog;\n","import { useCallback } from 'preact/hooks';\nimport style from './style.scss';\n\nconst SearchInput = ({ className, search, setSearch }) => {\n    const onInputChange = useCallback(e => setSearch(e.target.value), []);\n\n    return (\n        <div class={`${style.search} ${className}`}>\n            <input\n                class={style.search__input}\n                value={search}\n                onChange={onInputChange}\n                placeholder=\"Поиск\"\n                type=\"text\"\n            />\n\n            <i class=\"icon-search\" />\n        </div>\n    );\n};\n\nexport default SearchInput;\n","// extracted by mini-css-extract-plugin\nexport default {\"filters\":\"filters__eswS2\",\"filters__item\":\"filters__item__Ss8tX\",\"formTitle\":\"formTitle__3ODeq\",\"priceForm__slider\":\"priceForm__slider__cbh56\",\"genreForm__list\":\"genreForm__list__BlLK2\",\"genreForm__item\":\"genreForm__item__+fOh3\",\"formOption--open\":\"formOption--open__YpqyR\",\"formOption__closeModal\":\"formOption__closeModal__ca2PT\",\"formOption__content\":\"formOption__content__+Bxxq\",\"formOption__header\":\"formOption__header__9hcBu\",\"priceSlider__sliderContainer\":\"priceSlider__sliderContainer__bXH1-\",\"priceSlider__center\":\"priceSlider__center__MOmBU\",\"priceSlider__labels\":\"priceSlider__labels__0uBNx\",\"priceSlider__thumb\":\"priceSlider__thumb__lQuux\"};","export default __webpack_public_path__ + \"78276a3774517d15e17cbec4b8b0f7d3.png\";","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport style from './style.scss';\n\nconst OptionWrapper = ({ gonnaOpenModal, title, children }) => {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    const beforeOpenModalListener = useCallback(() => {\n        setIsModalOpen(false);\n    }, []);\n\n    useEffect(() => {\n        window.addEventListener('beforeOpenModal', beforeOpenModalListener);\n\n        return () => {\n            window.removeEventListener('beforeOpenModal', beforeOpenModalListener);\n        };\n    }, []);\n\n    return (\n        <div\n            class={`\n                ${style.filters__item}\n                ${style.formOption}\n                ${isModalOpen ? style['formOption--open'] : ''}\n                `}\n        >\n            <div class={style.formOption__header}>\n                <button\n                    class={style.formTitle}\n                    type=\"button\"\n                    onClick={() => {\n                        gonnaOpenModal();\n                        setIsModalOpen(true);\n                    }}\n                >\n                    <span>{title}</span>\n                    <svg width=\"11\" height=\"8\" viewBox=\"0 0 9 7\" fill=\"none\">\n                        <path d=\"M7.53109 0.75L4.5 6L1.46891 0.749999L7.53109 0.75Z\" stroke=\"black\" />\n                    </svg>\n                </button>\n\n                <button class={style.formOption__closeModal} onClick={() => setIsModalOpen(false)} />\n            </div>\n\n            <div class={`${style.priceForm__slider} ${style.formOption__content}`}>{children}</div>\n        </div>\n    );\n};\n\nexport default OptionWrapper;\n","export default __webpack_public_path__ + \"6eba99124069d6a71c6cf74e8ce686b6.png\";","// extracted by mini-css-extract-plugin\nexport default {\"homeSection\":\"homeSection__A21mD\"};","import { useState, useEffect, useCallback } from 'preact/hooks';\nimport { Field } from 'react-final-form';\nimport { getTrackBackground, Range } from 'react-range';\nimport style from './style.scss';\n\nconst PriceForm = ({ minPrice, maxPrice, form }) => {\n    const [rangeValues, setRangeValues] = useState([minPrice, maxPrice]);\n\n    useEffect(() => {\n        if (minPrice !== maxPrice) setRangeValues([minPrice, maxPrice]);\n        else setRangeValues([minPrice - 1, maxPrice + 1]);\n    }, [minPrice, maxPrice]);\n\n    const onRangeChanges = useCallback(values => {\n        setRangeValues(values);\n\n        form.change('fromPrice', values[0]);\n        form.change('toPrice', values[1]);\n        form.submit();\n    }, []);\n\n    return (\n        <div class={style.priceSlider}>\n            <Field\n                name=\"price\"\n                render={({ input }) => (\n                    <>\n                        <Range\n                            draggableTrack\n                            values={rangeValues}\n                            step={1}\n                            min={minPrice}\n                            max={maxPrice}\n                            onChange={onRangeChanges}\n                            renderTrack={({ props, children }) => (\n                                <div\n                                    onMouseDown={props.onMouseDown}\n                                    onTouchStart={props.onTouchStart}\n                                    class={style.priceSlider__sliderContainer}\n                                    style={{\n                                        ...props.style,\n                                    }}\n                                >\n                                    <input {...input} type=\"hidden\" />\n                                    <div\n                                        ref={props.ref}\n                                        class={style.priceSlider__center}\n                                        style={{\n                                            background: getTrackBackground({\n                                                values: rangeValues,\n                                                colors: ['#2D2D2D', '#0A62A9', '#2D2D2D'],\n                                                min: minPrice,\n                                                max: maxPrice,\n                                                rtl: false,\n                                            }),\n                                        }}\n                                    >\n                                        {children}\n                                    </div>\n                                </div>\n                            )}\n                            renderThumb={({ props }) => <div {...props} class={style.priceSlider__thumb} />}\n                        />\n\n                        <div class={style.priceSlider__labels}>\n                            <span>{rangeValues[0]} Р</span>\n                            <span>{rangeValues[1]} Р</span>\n                        </div>\n                    </>\n                )}\n            />\n        </div>\n    );\n};\n\nexport default PriceForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"homeSection\":\"homeSection__NJ+0w\",\"promo\":\"promo__rq8kq\",\"promo__wrapper\":\"promo__wrapper__Timof\",\"promo__blackout\":\"promo__blackout__XrsaX\",\"promo__title\":\"promo__title__u1oYK\",\"promo__quote\":\"promo__quote__u0ehO\",\"quote\":\"quote__NTfx7\",\"quote__text\":\"quote__text__QMbev\",\"quote__author\":\"quote__author__BmzFm\",\"stock__content\":\"stock__content__nngG4\",\"contacts__content\":\"contacts__content__K1uhA\",\"contacts__grid\":\"contacts__grid__2gazL\",\"contacts__title\":\"contacts__title__Wc9v9\",\"contacts__contactsList\":\"contacts__contactsList__1P6Qy\",\"contacts__map\":\"contacts__map__Uhagh\",\"contactItem\":\"contactItem__+Zm8c\",\"contactItem__key\":\"contactItem__key__9PLQk\",\"contactItem__value\":\"contactItem__value__AdY57\",\"contactItem__value--icons-list\":\"contactItem__value--icons-list__VrakJ\"};","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"pagination__B-6Me\",\"pagination__item\":\"pagination__item__uv7Js\",\"pagination__item--active\":\"pagination__item--active__vG+eG\",\"pagination__dot\":\"pagination__dot__+Vhe9\"};","import { useCallback, useEffect, useState } from 'preact/hooks';\r\nimport style from './style.scss';\r\n\r\nimport { getBooks } from '../../../api/books';\r\nimport BookCard from '../../book-card';\r\nimport Pagination from '../../ui/pagination';\r\nimport SectionTemplate from '../section-template';\r\n\r\nlet perPage = 3;\r\n\r\nif (document.documentElement.offsetWidth >= 767) perPage = 6;\r\nelse if (document.documentElement.offsetWidth >= 480) perPage = 4;\r\n\r\nconst Stock = ({ className }) => {\r\n    const [products, setProducts] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [pagination, setPagination] = useState({\r\n        page: 1,\r\n        booksCount: null,\r\n    });\r\n\r\n    useEffect(() => {\r\n        async function fetchBooks() {\r\n            const response = await getBooks({ pagination: { ...pagination, perPage }, onSale: true });\r\n\r\n            setProducts(response.books);\r\n            setPagination({ ...pagination, booksCount: response.totalCount });\r\n            setIsLoading(false);\r\n        }\r\n\r\n        setIsLoading(true);\r\n        fetchBooks();\r\n    }, [pagination.page]);\r\n\r\n    const setPage = useCallback(page => setPagination({ ...pagination, page }), []);\r\n\r\n    return (\r\n        <SectionTemplate title=\"АКЦИИ\">\r\n            <div class={`${style.grid} ${className}`}>\r\n                {products.map(item => (\r\n                    <BookCard key={item.id} className={style.grid__item} book={item} isStock />\r\n                ))}\r\n\r\n                {isLoading ? 'Загрузка...' : ''}\r\n            </div>\r\n\r\n            {pagination.booksCount && (\r\n                <Pagination\r\n                    className={style.stock__pagination}\r\n                    setPage={setPage}\r\n                    pagination={{\r\n                        page: pagination.page,\r\n                        totalCount: pagination.booksCount,\r\n                        perPage,\r\n                    }}\r\n                />\r\n            )}\r\n        </SectionTemplate>\r\n    );\r\n};\r\n\r\nexport default Stock;\r\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: []\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = (0, utils_1.getPaddingAndBorder)(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = (0, utils_1.getMargin)(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return (0, utils_1.assertUnreachable)(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute('aria-valuenow');\n                });\n            }\n            console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener('touchmove', _this.schdOnTouchMove, {\n                passive: false\n            });\n            document.addEventListener('touchend', _this.schdOnEnd, {\n                passive: false\n            });\n            document.addEventListener('touchcancel', _this.schdOnEnd, {\n                passive: false\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener('mousemove', _this.schdOnMouseMove);\n            document.addEventListener('mouseup', _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0)\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY]\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            (0, utils_1.translateThumbs)(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = (0, utils_1.isTouchEvent)(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                })\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl, direction = _a.direction;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down\n                ? -1\n                : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n            }\n            else if (e.key === 'Tab') {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = (0, utils_1.isVertical)(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = (0, utils_1.replaceAt)(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY]\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange((0, utils_1.replaceAt)(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return (0, utils_1.normalizeValue)(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener('mousemove', _this.schdOnMouseMove);\n            document.removeEventListener('touchmove', _this.schdOnTouchMove);\n            document.removeEventListener('mouseup', _this.schdOnEnd);\n            document.removeEventListener('touchend', _this.schdOnEnd);\n            document.removeEventListener('touchcancel', _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.updateMarkRefs = function (props) {\n            if (!props.renderMark) { // don't create mark refs unless we are rendering marks\n                _this.numOfMarks = undefined;\n                _this.markRefs = undefined;\n                return;\n            }\n            _this.numOfMarks = (props.max - props.min) / _this.props.step;\n            _this.markRefs = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                _this.markRefs[i] = React.createRef();\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                !_this.numOfMarks ||\n                !_this.markRefs ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2)\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2)\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.schdOnMouseMove = (0, utils_1.schd)(_this.onMouseMove);\n        _this.schdOnTouchMove = (0, utils_1.schd)(_this.onTouchMove);\n        _this.schdOnEnd = (0, utils_1.schd)(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        _this.updateMarkRefs(props);\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener('resize', _this.onResize); },\n                unobserve: function () { return window.removeEventListener('resize', _this.onResize); }\n            };\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        !this.props.allowOverlap && (0, utils_1.checkInitialOverlap)(this.props.values);\n        this.props.values.forEach(function (value) {\n            return (0, utils_1.checkBoundaries)(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.updateMarkRefs(this.props);\n        }\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                    console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false\n        };\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener('mousemove', this.schdOnMouseMove);\n        document.removeEventListener('touchmove', this.schdOnTouchMove);\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mouseup', this.schdOnEnd);\n        document.removeEventListener('touchend', this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: 'scale(1)',\n                    cursor: draggedThumbIndex > -1\n                        ? 'grabbing'\n                        : this.props.draggableTrack\n                            ? (0, utils_1.isVertical)(this.props.direction)\n                                ? 'ns-resize'\n                                : 'ew-resize'\n                            : values.length === 1 && !disabled\n                                ? 'pointer'\n                                : 'inherit'\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArray(__spreadArray([], markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: 'absolute',\n                                left: \"\".concat(offset[0], \"px\"),\n                                marginTop: \"\".concat(offset[1], \"px\")\n                            }\n                            : {\n                                position: 'absolute',\n                                top: \"\".concat(offset[0], \"px\"),\n                                marginLeft: \"\".concat(offset[1], \"px\")\n                            },\n                        key: \"mark\".concat(index),\n                        ref: _this.markRefs[index]\n                    },\n                    index: index\n                });\n            }), true), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: 'absolute',\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n                            userSelect: 'none',\n                            touchAction: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n                        'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n                        'aria-valuenow': value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        role: 'slider',\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n                    }\n                });\n            }), true)\n        });\n    };\n    Range.defaultProps = {\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n","import style from './style.scss';\n\nconst Pagination = ({ className, setPage, pagination }) => {\n    const pageCount = Math.ceil(pagination.totalCount / pagination.perPage);\n    const pages = [];\n\n    let pageCounter = 1;\n\n    if (pageCount > 5) {\n        if (pagination.page >= 3) {\n            pageCounter = pagination.page - 2;\n        } else {\n            pageCounter = 1;\n        }\n\n        if (pagination.page === pageCount || pagination.page === pageCount - 1) {\n            pageCounter = pageCount - 4;\n        }\n    }\n\n    for (let i = 0; i < 5; i++) {\n        pages.push(pageCounter);\n\n        if (pageCounter >= pageCount) {\n            break;\n        }\n\n        pageCounter++;\n    }\n\n    const dots = [];\n    const dotsCounterOffset = pagination.page >= 3 ? 2 : 4;\n\n    for (let i = pagination.page + dotsCounterOffset; i < pageCount && dots.length < 5; i++) {\n        dots.push(i);\n    }\n\n    if (pages.length <= 1) {\n        return <></>;\n    }\n\n    return (\n        <div class={`${style.pagination} ${className}`}>\n            {pages.map(page => (\n                <span\n                    key={page}\n                    class={`${style.pagination__item} ${\n                        pagination.page === page ? style['pagination__item--active'] : ''\n                    }`}\n                    onClick={() => setPage(page)}\n                >\n                    {page}\n                </span>\n            ))}\n\n            {dots.map(dot => (\n                <span key={dot} class={style.pagination__dot} />\n            ))}\n        </div>\n    );\n};\n\nexport default Pagination;\n","export default __webpack_public_path__ + \"49af281e78ebad208bf195087e4c3143.png\";","const IBG = ({ className, img }) => (\n    <div\n        className={`${className} _ibg`}\n        style={{\n            backgroundImage: `url(${img})`,\n        }}\n    />\n);\n\nexport default IBG;\n","import { useCallback } from 'preact/hooks';\nimport { Form } from 'react-final-form';\n\nimport GenresForm from './genres-form';\nimport OptionWrapper from './option-wrapper';\nimport PriceForm from './price-form';\nimport style from './style.scss';\n\nconst Filters = ({ className, reducer }) => {\n    const [catalogState, catalogDispatch] = reducer;\n\n    const setFilters = useCallback(\n        formObj => {\n            if (catalogState.filters?.genres?.join() !== formObj?.genres?.join()) {\n                delete formObj.fromPrice;\n                delete formObj.toPrice;\n                catalogDispatch({ type: 'setPriceRange', payload: [0, 1] });\n            }\n\n            catalogDispatch({ type: 'setFilters', payload: formObj });\n        },\n        [catalogState],\n    );\n\n    function gonnaOpenModal() {\n        const beforeOpenModalEvent = new Event('beforeOpenModal');\n\n        window.dispatchEvent(beforeOpenModalEvent);\n    }\n\n    return (\n        <Form\n            onSubmit={setFilters}\n            subscription={{ submitting: true }}\n            render={({ handleSubmit, form }) => (\n                <form class={`${className} ${style.filters}`} onChange={handleSubmit} onSubmit={handleSubmit}>\n                    <OptionWrapper title=\"Цена\" gonnaOpenModal={gonnaOpenModal}>\n                        <PriceForm\n                            minPrice={catalogState.priceRange[0]}\n                            maxPrice={catalogState.priceRange[1]}\n                            form={form}\n                        />\n                    </OptionWrapper>\n\n                    <OptionWrapper title=\"Жанр\" gonnaOpenModal={gonnaOpenModal}>\n                        <GenresForm />\n                    </OptionWrapper>\n                </form>\n            )}\n        />\n    );\n};\n\nexport default Filters;\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"search__OU9Rj\",\"search__input\":\"search__input__H4mlY\"};","import style from './style.scss';\n\nimport IBG from '../ibg';\n\nconst DescribedImage = ({ img, text, textColor = 'black', linkText }) => (\n    <div class={style.container}>\n        <div class={style.block}>\n            <p class={`${style.text} ${style[`text--${textColor}`]}`}>{text}</p>\n\n            {linkText ? (\n                <a href=\"#\" class={style.link}>\n                    {linkText}\n                </a>\n            ) : (\n                ''\n            )}\n        </div>\n\n        <div class={style.block}>\n            <IBG className={style.image} img={img} />\n        </div>\n    </div>\n);\n\nexport default DescribedImage;\n","// extracted by mini-css-extract-plugin\nexport default {\"blockTitle\":\"blockTitle__gbQyK\",\"blockTitle--black\":\"blockTitle--black__p+kIK\",\"blockTitle--white\":\"blockTitle--white__lbx+l\"};","import useAddBookToCart from \"../../../hooks/useAddBookToCart\";\r\n\r\n\r\nconst HeartBtn = ({ className, checked, book }) => {\r\n    const onAddToCart = useAddBookToCart(book);\r\n\r\n    return (\r\n        <button\r\n            class={`${className} ${checked ? 'icon-heart' : 'icon-heart-empty'}`}\r\n            onClick={onAddToCart}\r\n        />\r\n    )\r\n}\r\n\r\nexport default HeartBtn\r\n","// extracted by mini-css-extract-plugin\nexport default {\"catalog\":\"catalog__wZg0a\",\"catalog__grid\":\"catalog__grid__DylxX\",\"catalog__filtersWrapper\":\"catalog__filtersWrapper__-Bckj\",\"catalog__filters\":\"catalog__filters__gsqgn\",\"catalog__filtersTitle\":\"catalog__filtersTitle__oOJHm\",\"catalog__productsGrid\":\"catalog__productsGrid__Kx65r\",\"catalog__pagination\":\"catalog__pagination__kjfEY\",\"filtersTitle\":\"filtersTitle__acmrl\",\"filters\":\"filters__dEwRp\",\"searchSort\":\"searchSort__Ud7hS\",\"searchSort__sortWrapper\":\"searchSort__sortWrapper__vPBJZ\",\"searchSort__search\":\"searchSort__search__a9ESz\",\"searchSort__sort\":\"searchSort__sort__vF7Zp\",\"searchSort__sort--active\":\"searchSort__sort--active__xrgLE\",\"productsGrid\":\"productsGrid__C5QQ-\",\"productsGrid__item\":\"productsGrid__item__C-Qpi\"};","import { useCallback, useEffect, useState } from \"preact/hooks\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setPopupState } from \"../redux/reducers/AuthSlice\";\r\nimport { addElement } from \"../redux/reducers/CartSlice\";\r\n\r\nconst useAddBookToCart = book => {\r\n    const authReducer = useSelector(state => state.authReducer);\r\n    const dispatch = useDispatch();\r\n    const [hasTryedAdd, setHasTryedAdd] = useState(false);\r\n\r\n    const addToCartCallback = useCallback((onAdded) => {\r\n        if (!authReducer.isAuthenticated) {\r\n            dispatch(setPopupState(true));\r\n            setHasTryedAdd(true);\r\n        } else {\r\n            dispatch(addElement(book));\r\n            onAdded();\r\n        }\r\n    }, [authReducer.isAuthenticated, book]);\r\n\r\n    useEffect(() => {\r\n        if (hasTryedAdd) {\r\n            dispatch(addElement(book));\r\n            setHasTryedAdd(false);\r\n        }\r\n    }, [authReducer.isAuthenticated]);\r\n\r\n    useEffect(() => {\r\n        if (!authReducer.isAuthPopupOpen) {\r\n            setHasTryedAdd(false);\r\n        }\r\n    }, [authReducer.isAuthPopupOpen]);\r\n\r\n    return addToCartCallback;\r\n};\r\n\r\nexport default useAddBookToCart;\r\n","import style from './style.scss';\nimport sortTypes from '../../../constants/sortTypes';\n\nconst Sort = ({ sort, setSort }) => (\n    <div class={style.searchSort__sortWrapper}>\n        {Object.keys(sortTypes).map(key => (\n            <button\n                key={key}\n                class={`${style.searchSort__sort} ${key === sort ? style['searchSort__sort--active'] : ''}`}\n                onClick={() => setSort(key)}\n            >\n                {sortTypes[key]}\n            </button>\n        ))}\n    </div>\n);\n\nexport default Sort;\n","function throttle(func, ms) {\n    let isThrottled = false,\n        savedArgs;\n\n    function wrapper(...args) {\n        if (isThrottled) {\n            savedArgs = args;\n            return;\n        }\n        isThrottled = true;\n        func(...args);\n\n        setTimeout(() => {\n            isThrottled = false;\n            if (savedArgs) {\n                wrapper(...savedArgs);\n                savedArgs = null;\n            }\n        }, ms);\n    }\n\n    return wrapper;\n}\n\nexport default throttle;\n","const standardGenres = {\n    detective: 'Детективы',\n    roman: 'Романы',\n    science: 'Научные',\n    classic: 'Классика',\n    history: 'Исторические',\n    psychological: 'Психологические',\n};\n\nexport default standardGenres;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useThumbOverlap = exports.assertUnreachable = exports.voidFn = exports.getTrackBackground = exports.replaceAt = exports.schd = exports.translate = exports.getClosestThumbIndex = exports.translateThumbs = exports.getPaddingAndBorder = exports.getMargin = exports.checkInitialOverlap = exports.checkValuesAgainstBoundaries = exports.checkBoundaries = exports.isVertical = exports.relativeValue = exports.normalizeValue = exports.isStepDivisible = exports.isTouchEvent = exports.getStepDecimals = void 0;\nvar react_1 = require(\"react\");\nvar types_1 = require(\"./types\");\nvar getStepDecimals = function (step) {\n    var decimals = step.toString().split('.')[1];\n    return decimals ? decimals.length : 0;\n};\nexports.getStepDecimals = getStepDecimals;\nfunction isTouchEvent(event) {\n    return ((event.touches && event.touches.length) ||\n        (event.changedTouches && event.changedTouches.length));\n}\nexports.isTouchEvent = isTouchEvent;\nfunction isStepDivisible(min, max, step) {\n    var res = (max - min) / step;\n    var precision = 8;\n    var roundedRes = Number(res.toFixed(precision));\n    return parseInt(roundedRes.toString(), 10) === roundedRes;\n}\nexports.isStepDivisible = isStepDivisible;\nfunction normalizeValue(value, index, min, max, step, allowOverlap, values) {\n    var BIG_NUM = 10e10;\n    value = Math.round(value * BIG_NUM) / BIG_NUM;\n    if (!allowOverlap) {\n        var prev = values[index - 1];\n        var next = values[index + 1];\n        if (prev && prev > value)\n            return prev;\n        if (next && next < value)\n            return next;\n    }\n    if (value > max)\n        return max;\n    if (value < min)\n        return min;\n    // `remainder` is a difference between the given value and a full step value\n    // that is closest lower to the given value and is in the range between the min value\n    // and the given value\n    var remainder = Math.floor(value * BIG_NUM - min * BIG_NUM) %\n        Math.floor(step * BIG_NUM);\n    var closestLowerNum = Math.floor(value * BIG_NUM - Math.abs(remainder));\n    var rounded = remainder === 0 ? value : closestLowerNum / BIG_NUM;\n    // Values with a remainder `< step/2` are rounded to the closest lower value\n    // while values with a remainder `= > step/2` are rounded to the closest bigger value\n    var res = Math.abs(remainder / BIG_NUM) < step / 2\n        ? rounded\n        : rounded + step;\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    return parseFloat(res.toFixed(decimalPlaces));\n}\nexports.normalizeValue = normalizeValue;\nfunction relativeValue(value, min, max) {\n    return (value - min) / (max - min);\n}\nexports.relativeValue = relativeValue;\nfunction isVertical(direction) {\n    return direction === types_1.Direction.Up || direction === types_1.Direction.Down;\n}\nexports.isVertical = isVertical;\nfunction checkBoundaries(value, min, max) {\n    if (min >= max) {\n        throw new RangeError(\"min (\".concat(min, \") is equal/bigger than max (\").concat(max, \")\"));\n    }\n    if (value < min) {\n        throw new RangeError(\"value (\".concat(value, \") is smaller than min (\").concat(min, \")\"));\n    }\n    if (value > max) {\n        throw new RangeError(\"value (\".concat(value, \") is bigger than max (\").concat(max, \")\"));\n    }\n}\nexports.checkBoundaries = checkBoundaries;\nfunction checkValuesAgainstBoundaries(value, min, max) {\n    if (value < min) {\n        // set selectedValue to min\n        return min;\n    }\n    if (value > max) {\n        // set selectedValue to max\n        return max;\n    }\n    else {\n        return value;\n    }\n}\nexports.checkValuesAgainstBoundaries = checkValuesAgainstBoundaries;\nfunction checkInitialOverlap(values) {\n    if (values.length < 2)\n        return;\n    if (!values.slice(1).every(function (item, i) { return values[i] <= item; })) {\n        throw new RangeError(\"values={[\".concat(values, \"]} needs to be sorted when allowOverlap={false}\"));\n    }\n}\nexports.checkInitialOverlap = checkInitialOverlap;\nfunction getMargin(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style['margin-top'], 10),\n        bottom: parseInt(style['margin-bottom'], 10),\n        left: parseInt(style['margin-left'], 10),\n        right: parseInt(style['margin-right'], 10)\n    };\n}\nexports.getMargin = getMargin;\nfunction getPaddingAndBorder(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style['padding-top'], 10) + parseInt(style['border-top-width'], 10),\n        bottom: parseInt(style['padding-bottom'], 10) + parseInt(style['border-bottom-width'], 10),\n        left: parseInt(style['padding-left'], 10) + parseInt(style['border-left-width'], 10),\n        right: parseInt(style['padding-right'], 10) + parseInt(style['border-right-width'], 10),\n    };\n}\nexports.getPaddingAndBorder = getPaddingAndBorder;\nfunction translateThumbs(elements, offsets, rtl) {\n    var inverter = rtl ? -1 : 1;\n    elements.forEach(function (element, index) {\n        return translate(element, inverter * offsets[index].x, offsets[index].y);\n    });\n}\nexports.translateThumbs = translateThumbs;\n/**\n * Util function for calculating the index of the thumb that is closes to a given position\n * @param thumbs - array of Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getClosestThumbIndex(thumbs, clientX, clientY, direction) {\n    var thumbIndex = 0;\n    var minThumbDistance = getThumbDistance(thumbs[0], clientX, clientY, direction);\n    for (var i = 1; i < thumbs.length; i++) {\n        var thumbDistance = getThumbDistance(thumbs[i], clientX, clientY, direction);\n        if (thumbDistance < minThumbDistance) {\n            minThumbDistance = thumbDistance;\n            thumbIndex = i;\n        }\n    }\n    return thumbIndex;\n}\nexports.getClosestThumbIndex = getClosestThumbIndex;\nfunction translate(element, x, y) {\n    element.style.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n}\nexports.translate = translate;\n// adapted from https://github.com/alexreardon/raf-schd\nvar schd = function (fn) {\n    var lastArgs = [];\n    var frameId = null;\n    var wrapperFn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        lastArgs = args;\n        if (frameId) {\n            return;\n        }\n        frameId = requestAnimationFrame(function () {\n            frameId = null;\n            fn.apply(void 0, lastArgs);\n        });\n    };\n    return wrapperFn;\n};\nexports.schd = schd;\nfunction replaceAt(values, index, value) {\n    var ret = values.slice(0);\n    ret[index] = value;\n    return ret;\n}\nexports.replaceAt = replaceAt;\nfunction getTrackBackground(_a) {\n    var values = _a.values, colors = _a.colors, min = _a.min, max = _a.max, _b = _a.direction, direction = _b === void 0 ? types_1.Direction.Right : _b, _c = _a.rtl, rtl = _c === void 0 ? false : _c;\n    if (rtl && direction === types_1.Direction.Right) {\n        direction = types_1.Direction.Left;\n    }\n    else if (rtl && types_1.Direction.Left) {\n        direction = types_1.Direction.Right;\n    }\n    // sort values ascending\n    var progress = values.slice(0).sort(function (a, b) { return a - b; }).map(function (value) { return ((value - min) / (max - min)) * 100; });\n    var middle = progress.reduce(function (acc, point, index) {\n        return \"\".concat(acc, \", \").concat(colors[index], \" \").concat(point, \"%, \").concat(colors[index + 1], \" \").concat(point, \"%\");\n    }, '');\n    return \"linear-gradient(\".concat(direction, \", \").concat(colors[0], \" 0%\").concat(middle, \", \").concat(colors[colors.length - 1], \" 100%)\");\n}\nexports.getTrackBackground = getTrackBackground;\nfunction voidFn() { }\nexports.voidFn = voidFn;\nfunction assertUnreachable(x) {\n    throw new Error(\"Didn't expect to get here\");\n}\nexports.assertUnreachable = assertUnreachable;\n/**\n * Util function for grabbing the true largest width of a thumb\n * including the label\n * @param thumbEl - Thumb element to grab the largest width from\n * @param value - Thumb value, not label value\n * @param separator - Label separator value\n */\nvar getThumbWidth = function (thumbEl, value, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var width = Math.ceil(__spreadArray([thumbEl], Array.from(thumbEl.children), true).reduce(function (width, el) {\n        var elWidth = Math.ceil(el.getBoundingClientRect().width);\n        /**\n         * If a label contains a merged label value, it won't return the true\n         * label width for that Thumb. Clone the label and change the value\n         * to that individual Thumb value in order to grab the true width.\n         */\n        if (el.innerText &&\n            el.innerText.includes(separator) &&\n            el.childElementCount === 0) {\n            var elClone = el.cloneNode(true);\n            elClone.innerHTML = valueToLabel(value.toFixed(decimalPlaces));\n            elClone.style.visibility = 'hidden';\n            document.body.appendChild(elClone);\n            elWidth = Math.ceil(elClone.getBoundingClientRect().width);\n            document.body.removeChild(elClone);\n        }\n        return elWidth > width ? elWidth : width;\n    }, thumbEl.getBoundingClientRect().width));\n    return width;\n};\n/**\n * Bulk of logic for thumb overlaps\n * Consider a scenario with 5 thumbs;\n * Thumb 1 overlaps with thumb 0 and thumb 2\n * Thumb 2 overlaps with thumb 3\n * We need an array that contains [0, 1, 2, 3]\n * The function needs to return the directly overlapping thumbs\n * and all thumbs overlapping linked to those and so on\n * @param index - Thumb index calculating overlaps for\n * @param offsets - Current Array of Thumb offsets for Range\n * @param thumbs - Array of Thumb elements\n * @param values - Array of Thumb values\n * @param separator - String separator for merged label values\n * @returns overlaps - Array of all overlapping thumbs from the index\n */\nvar getOverlaps = function (index, offsets, thumbs, values, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var overlaps = [];\n    /**\n     * Recursive function for building the overlaps Array\n     * If an overlap is found, find the overlaps for that overlap\n     * @param thumbIndex current Thumb index to find overlaps from\n     */\n    var buildOverlaps = function (thumbIndex) {\n        var thumbXWidth = getThumbWidth(thumbs[thumbIndex], values[thumbIndex], separator, decimalPlaces, valueToLabel);\n        var thumbX = offsets[thumbIndex].x;\n        /**\n         * Iterate through the Thumb offsets, if there is a match\n         * add the thumbIndex and siblingIndex to the overlaps Array\n         *\n         * Then build overlaps from the overlapping siblingIndex\n         */\n        offsets.forEach(function (_a, siblingIndex) {\n            var siblingX = _a.x;\n            var siblingWidth = getThumbWidth(thumbs[siblingIndex], values[siblingIndex], separator, decimalPlaces, valueToLabel);\n            if (thumbIndex !== siblingIndex &&\n                ((thumbX >= siblingX && thumbX <= siblingX + siblingWidth) ||\n                    (thumbX + thumbXWidth >= siblingX &&\n                        thumbX + thumbXWidth <= siblingX + siblingWidth))) {\n                if (!overlaps.includes(siblingIndex)) {\n                    overlaps.push(thumbIndex);\n                    overlaps.push(siblingIndex);\n                    overlaps = __spreadArray(__spreadArray([], overlaps, true), [thumbIndex, siblingIndex], false);\n                    buildOverlaps(siblingIndex);\n                }\n            }\n        });\n    };\n    buildOverlaps(index);\n    // Sort and remove duplicates from the built overlaps\n    return Array.from(new Set(overlaps.sort()));\n};\n/**\n * A custom React Hook for calculating whether a thumb overlaps\n * another and whether labels could/should merge.\n * @param rangeRef - React ref value of Range component\n * @param values - current Range values Array\n * @param index - thumb index\n * @param step - step value, used to calculate the number of decimal places\n * @param separator - string to separate thumb values\n * @returns label value + styling for thumb label\n */\nvar useThumbOverlap = function (rangeRef, values, index, step, separator, valueToLabel) {\n    if (step === void 0) { step = 0.1; }\n    if (separator === void 0) { separator = ' - '; }\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    // Create initial label style and value. Label value defaults to thumb value\n    var _a = (0, react_1.useState)({}), labelStyle = _a[0], setLabelStyle = _a[1];\n    var _b = (0, react_1.useState)(valueToLabel(values[index].toFixed(decimalPlaces))), labelValue = _b[0], setLabelValue = _b[1];\n    // When the rangeRef or values change, update the Thumb label values and styling\n    (0, react_1.useEffect)(function () {\n        if (rangeRef) {\n            var thumbs = rangeRef.getThumbs();\n            if (thumbs.length < 1)\n                return;\n            var newStyle = {};\n            var offsets_1 = rangeRef.getOffsets();\n            /**\n             * Get any overlaps for the given Thumb index. This must return all linked\n             * Thumbs. So if there are 4 Thumbs and Thumbs 2, 3 and 4 overlap. If we are\n             * getting the overlaps for Thumb 1 and it overlaps only Thumb 2, we must get\n             * 2, 3 and 4 also.\n             */\n            var overlaps = getOverlaps(index, offsets_1, thumbs, values, separator, decimalPlaces, valueToLabel);\n            // Set a default label value of the Thumb value\n            var labelValue_1 = valueToLabel(values[index].toFixed(decimalPlaces));\n            /**\n             * If there are overlaps for the Thumb, we need to calculate the correct\n             * Label value along with the relevant styling. We only want to show a Label\n             * for the left most Thumb in an overlapping set.\n             * All other Thumbs will be set to display: none.\n             */\n            if (overlaps.length) {\n                /**\n                 * Get an Array of the offsets for the overlapping Thumbs\n                 * This is so we can determine if the Thumb we are looking at\n                 * is the left most thumb in an overlapping set\n                 */\n                var offsetsX = overlaps.reduce(function (a, c, i, s) {\n                    return a.length ? __spreadArray(__spreadArray([], a, true), [offsets_1[s[i]].x], false) : [offsets_1[s[i]].x];\n                }, []);\n                /**\n                 * If our Thumb is the left most Thumb, we can build a Label value\n                 * and set the style for that Label\n                 */\n                if (Math.min.apply(Math, offsetsX) === offsets_1[index].x) {\n                    /**\n                     * First calculate the Label value. To do this,\n                     * grab all the values for the Thumbs in our overlaps.\n                     * Then convert that to a Set and sort it whilst removing duplicates.\n                     */\n                    var labelValues_1 = [];\n                    overlaps.forEach(function (thumb) {\n                        labelValues_1.push(values[thumb].toFixed(decimalPlaces));\n                    });\n                    /**\n                     *  Update the labelValue with the resulting Array\n                     *  joined by our defined separator\n                     */\n                    labelValue_1 = Array.from(new Set(labelValues_1.sort(function (a, b) { return parseFloat(a) - parseFloat(b); })))\n                        .map(valueToLabel)\n                        .join(separator);\n                    /**\n                     * Lastly, build the label styling. The label styling will\n                     * position the label and apply a transform so that it's centered.\n                     * We want the center point between the left edge of the left most Thumb\n                     * and the right edge of the right most Thumb.\n                     */\n                    var first = Math.min.apply(Math, offsetsX);\n                    var last = Math.max.apply(Math, offsetsX);\n                    var lastWidth = thumbs[overlaps[offsetsX.indexOf(last)]].getBoundingClientRect().width;\n                    newStyle.left = \"\".concat(Math.abs(first - (last + lastWidth)) / 2, \"px\");\n                    newStyle.transform = 'translate(-50%, 0)';\n                }\n                else {\n                    // If the Thumb isn't the left most Thumb, hide the Label!\n                    newStyle.visibility = 'hidden';\n                }\n            }\n            // Update the label value and style\n            setLabelValue(labelValue_1);\n            setLabelStyle(newStyle);\n        }\n    }, [rangeRef, values]);\n    return [labelValue, labelStyle];\n};\nexports.useThumbOverlap = useThumbOverlap;\n/**\n * Util function for calculating the distance of the center of a thumb\n * form a given mouse/touch target's position\n * @param thumbEl - Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getThumbDistance(thumbEl, clientX, clientY, direction) {\n    var _a = thumbEl.getBoundingClientRect(), left = _a.left, top = _a.top, width = _a.width, height = _a.height;\n    return isVertical(direction) ? Math.abs(clientY - (top + height / 2)) : Math.abs(clientX - (left + width / 2));\n}\n","import style from './style.scss';\r\n\r\nimport BookCard from '../../book-card';\r\n\r\nconst ProductsLoop = ({ isLoading, products }) => (\r\n    <>\r\n        {!isLoading &&\r\n            products.map((item, index) => (\r\n                <BookCard key={item.id} className={style.productsGrid__item} book={item} />\r\n            ))}\r\n\r\n        {products.length === 0 ? 'nOthing found :(' : ''}\r\n\r\n        {isLoading ? 'Загрузка...' : ''}\r\n    </>\r\n);\r\n\r\nexport default ProductsLoop;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"card__TkMLB\",\"card__img\":\"card__img__K3mgh\",\"card__content\":\"card__content__CDbtd\",\"card__rating\":\"card__rating__pNfN0\",\"card__starWrapper\":\"card__starWrapper__wU1TM\",\"card__star\":\"card__star__6-xqs\",\"card__star--empty\":\"card__star--empty__wTDM2\",\"card__heart\":\"card__heart__VWSdx\",\"card__metaWrapper\":\"card__metaWrapper__B3cY0\",\"card__name\":\"card__name__CRghi\",\"card__author\":\"card__author__5QDVE\",\"card__year\":\"card__year__DOepD\",\"card__footer\":\"card__footer__Z8ClG\",\"card__buyBtn\":\"card__buyBtn__Zg8NZ\",\"card__price\":\"card__price__rZ86s\",\"card__price--old\":\"card__price--old__-ihiF\",\"card__newPrice\":\"card__newPrice__qZVHK\"};","import { Field } from 'react-final-form';\nimport style from './style.scss';\n\nimport standardGenres from '../../../../constants/genres';\n\nconst GenresForm = ({}) => (\n    <div class={style.genreForm__list}>\n        {Object.keys(standardGenres).map(key => (\n            <Field\n                key={key}\n                name=\"genres\"\n                value={key}\n                type=\"checkbox\"\n                render={({ input }) => (\n                    <label class={style.genreForm__item}>\n                        <input {...input} type=\"checkbox\" />\n                        <i class=\"icon-checkmark\" />\n\n                        {standardGenres[key]}\n                    </label>\n                )}\n            />\n        ))}\n    </div>\n);\n\nexport default GenresForm;\n","import style from './style.scss';\r\n\r\nimport IBG from '../ibg';\r\nimport { Link } from 'preact-router/match';\r\nimport HeartBtn from '../ui/heart-btn';\r\nimport { useSelector } from 'react-redux';\r\nimport { useCallback } from 'preact/hooks';\r\nimport { route } from 'preact-router';\r\nimport useAddBookToCart from '../../hooks/useAddBookToCart';\r\n\r\nconst BookCard = ({ className, book }) => {\r\n    const isInCart = useSelector(state => state.cartReducer.cartElements.find(item => item.id === book.id));\r\n    const addToCart = useAddBookToCart(book);\r\n\r\n    let ratingStars = [];\r\n\r\n    const isStock = book.salePrice;\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n        if (i < book.rating) {\r\n            ratingStars.push(<i class={`icon-star ${style.card__star}`} />);\r\n        } else {\r\n            ratingStars.push(<i class={`icon-star-empty ${style.card__star} ${style['card__star--empty']}`} />);\r\n        }\r\n    }\r\n\r\n    const onBuyBtnClick = useCallback(() => {\r\n        addToCart(() => route('/cart'));\r\n    }, [addToCart]);\r\n\r\n    return (\r\n        <article class={`${className} ${style.card}`}>\r\n            <Link href={`/book/${book.id}`}>\r\n                <IBG className={style.card__img} img={book.img} />\r\n            </Link>\r\n\r\n            <div class={style.card__content}>\r\n                <div class={style.card__rating}>\r\n                    <div class={style.card__starWrapper}>{ratingStars.map(item => item)}</div>\r\n\r\n                    {isStock ? (\r\n                        <HeartBtn className={style.card__heart} checked={isInCart} book={book} />\r\n                    ) : (\r\n                        <span class=\"rating-number\">{book.ratingNumber}</span>\r\n                    )}\r\n                </div>\r\n\r\n                <div class={style.card__metaWrapper}>\r\n                    <span class={style.card__name}>{book.name}</span>\r\n                    <span class={style.card__author}>Автор: {book.author}</span>\r\n                    <span class={style.card__year}>{book.year} г</span>\r\n                </div>\r\n\r\n                <div class={style.card__footer}>\r\n                    <button class={style.card__buyBtn} onClick={onBuyBtnClick}>Купить</button>\r\n\r\n                    <span class={`${style.card__price} ${isStock ? style['card__price--old'] : ''}`}>\r\n                        {book.price} Р\r\n                    </span>\r\n\r\n                    {isStock ? (\r\n                        <span class={style.card__newPrice}>{book.salePrice} Р</span>\r\n                    ) : (\r\n                        <HeartBtn className={style.card__heart} checked={isInCart} book={book} />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </article>\r\n    );\r\n};\r\n\r\nexport default BookCard;\r\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n//      \nvar charCodeOfDot = \".\".charCodeAt(0);\nvar reEscapeChar = /\\\\(\\\\)?/g;\nvar rePropName = RegExp( // Match anything that isn't a dot or bracket.\n\"[^.[\\\\]]+\" + \"|\" + // Or match property names within brackets.\n\"\\\\[(?:\" + // Match a non-string expression.\n\"([^\\\"'][^[]*)\" + \"|\" + // Or match strings (supports escaping characters).\n\"([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2\" + \")\\\\]\" + \"|\" + // Or match \"\" as the space between consecutive dots or empty brackets.\n\"(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))\", \"g\");\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\n\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n\n  if (string.charCodeAt(0) === charCodeOfDot) {\n    result.push(\"\");\n  }\n\n  string.replace(rePropName, function (match, expression, quote, subString) {\n    var key = match;\n\n    if (quote) {\n      key = subString.replace(reEscapeChar, \"$1\");\n    } else if (expression) {\n      key = expression.trim();\n    }\n\n    result.push(key);\n  });\n  return result;\n};\n\nvar keysCache = {};\n\nvar toPath = function toPath(key) {\n  if (key === null || key === undefined || !key.length) {\n    return [];\n  }\n\n  if (typeof key !== \"string\") {\n    throw new Error(\"toPath() expects a string\");\n  }\n\n  if (keysCache[key] == null) {\n    keysCache[key] = stringToPath(key);\n  }\n\n  return keysCache[key];\n};\n\n//      \n\nvar getIn = function getIn(state, complexKey) {\n  // Intentionally using iteration rather than recursion\n  var path = toPath(complexKey);\n  var current = state;\n\n  for (var i = 0; i < path.length; i++) {\n    var key = path[i];\n\n    if (current === undefined || current === null || typeof current !== \"object\" || Array.isArray(current) && isNaN(key)) {\n      return undefined;\n    }\n\n    current = current[key];\n  }\n\n  return current;\n};\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nvar setInRecursor = function setInRecursor(current, index, path, value, destroyArrays) {\n  if (index >= path.length) {\n    // end of recursion\n    return value;\n  }\n\n  var key = path[index]; // determine type of key\n\n  if (isNaN(key)) {\n    var _extends2;\n\n    // object set\n    if (current === undefined || current === null) {\n      var _ref;\n\n      // recurse\n      var _result2 = setInRecursor(undefined, index + 1, path, value, destroyArrays); // delete or create an object\n\n\n      return _result2 === undefined ? undefined : (_ref = {}, _ref[key] = _result2, _ref);\n    }\n\n    if (Array.isArray(current)) {\n      throw new Error(\"Cannot set a non-numeric property on an array\");\n    } // current exists, so make a copy of all its values, and add/update the new one\n\n\n    var _result = setInRecursor(current[key], index + 1, path, value, destroyArrays);\n\n    if (_result === undefined) {\n      var numKeys = Object.keys(current).length;\n\n      if (current[key] === undefined && numKeys === 0) {\n        // object was already empty\n        return undefined;\n      }\n\n      if (current[key] !== undefined && numKeys <= 1) {\n        // only key we had was the one we are deleting\n        if (!isNaN(path[index - 1]) && !destroyArrays) {\n          // we are in an array, so return an empty object\n          return {};\n        } else {\n          return undefined;\n        }\n      }\n\n      current[key];\n          var _final = _objectWithoutPropertiesLoose(current, [key].map(_toPropertyKey));\n\n      return _final;\n    } // set result in key\n\n\n    return _extends({}, current, (_extends2 = {}, _extends2[key] = _result, _extends2));\n  } // array set\n\n\n  var numericKey = Number(key);\n\n  if (current === undefined || current === null) {\n    // recurse\n    var _result3 = setInRecursor(undefined, index + 1, path, value, destroyArrays); // if nothing returned, delete it\n\n\n    if (_result3 === undefined) {\n      return undefined;\n    } // create an array\n\n\n    var _array = [];\n    _array[numericKey] = _result3;\n    return _array;\n  }\n\n  if (!Array.isArray(current)) {\n    throw new Error(\"Cannot set a numeric property on an object\");\n  } // recurse\n\n\n  var existingValue = current[numericKey];\n  var result = setInRecursor(existingValue, index + 1, path, value, destroyArrays); // current exists, so make a copy of all its values, and add/update the new one\n\n  var array = [].concat(current);\n\n  if (destroyArrays && result === undefined) {\n    array.splice(numericKey, 1);\n\n    if (array.length === 0) {\n      return undefined;\n    }\n  } else {\n    array[numericKey] = result;\n  }\n\n  return array;\n};\n\nvar setIn = function setIn(state, key, value, destroyArrays) {\n  if (destroyArrays === void 0) {\n    destroyArrays = false;\n  }\n\n  if (state === undefined || state === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(state) + \" state\");\n  }\n\n  if (key === undefined || key === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(key) + \" key\");\n  } // Recursive function needs to accept and return State, but public API should\n  // only deal with Objects\n\n\n  return setInRecursor(state, 0, toPath(key), value, destroyArrays);\n};\n\nvar FORM_ERROR = \"FINAL_FORM/form-error\";\nvar ARRAY_ERROR = \"FINAL_FORM/array-error\";\n\n//      \n/**\n * Converts internal field state to published field state\n */\n\nfunction publishFieldState(formState, field) {\n  var errors = formState.errors,\n      initialValues = formState.initialValues,\n      lastSubmittedValues = formState.lastSubmittedValues,\n      submitErrors = formState.submitErrors,\n      submitFailed = formState.submitFailed,\n      submitSucceeded = formState.submitSucceeded,\n      submitting = formState.submitting,\n      values = formState.values;\n  var active = field.active,\n      blur = field.blur,\n      change = field.change,\n      data = field.data,\n      focus = field.focus,\n      modified = field.modified,\n      modifiedSinceLastSubmit = field.modifiedSinceLastSubmit,\n      name = field.name,\n      touched = field.touched,\n      validating = field.validating,\n      visited = field.visited;\n  var value = getIn(values, name);\n  var error = getIn(errors, name);\n\n  if (error && error[ARRAY_ERROR]) {\n    error = error[ARRAY_ERROR];\n  }\n\n  var submitError = submitErrors && getIn(submitErrors, name);\n  var initial = initialValues && getIn(initialValues, name);\n  var pristine = field.isEqual(initial, value);\n  var dirtySinceLastSubmit = !!(lastSubmittedValues && !field.isEqual(getIn(lastSubmittedValues, name), value));\n  var valid = !error && !submitError;\n  return {\n    active: active,\n    blur: blur,\n    change: change,\n    data: data,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    error: error,\n    focus: focus,\n    initial: initial,\n    invalid: !valid,\n    length: Array.isArray(value) ? value.length : undefined,\n    modified: modified,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    name: name,\n    pristine: pristine,\n    submitError: submitError,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitting: submitting,\n    touched: touched,\n    valid: valid,\n    value: value,\n    visited: visited,\n    validating: validating\n  };\n}\n\n//      \nvar fieldSubscriptionItems = [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"value\", \"visited\", \"validating\"];\n\n//      \nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n//      \nfunction subscriptionFilter (dest, src, previous, subscription, keys, shallowEqualKeys) {\n  var different = false;\n  keys.forEach(function (key) {\n    if (subscription[key]) {\n      dest[key] = src[key];\n\n      if (!previous || (~shallowEqualKeys.indexOf(key) ? !shallowEqual(src[key], previous[key]) : src[key] !== previous[key])) {\n        different = true;\n      }\n    }\n  });\n  return different;\n}\n\n//      \nvar shallowEqualKeys$1 = [\"data\"];\n/**\n * Filters items in a FieldState based on a FieldSubscription\n */\n\nvar filterFieldState = function filterFieldState(state, previousState, subscription, force) {\n  var result = {\n    blur: state.blur,\n    change: state.change,\n    focus: state.focus,\n    name: state.name\n  };\n  var different = subscriptionFilter(result, state, previousState, subscription, fieldSubscriptionItems, shallowEqualKeys$1) || !previousState;\n  return different || force ? result : undefined;\n};\n\n//      \nvar formSubscriptionItems = [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitting\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"];\n\n//      \nvar shallowEqualKeys = [\"touched\", \"visited\"];\n/**\n * Filters items in a FormState based on a FormSubscription\n */\n\nfunction filterFormState(state, previousState, subscription, force) {\n  var result = {};\n  var different = subscriptionFilter(result, state, previousState, subscription, formSubscriptionItems, shallowEqualKeys) || !previousState;\n  return different || force ? result : undefined;\n}\n\n//      \n\nvar memoize = function memoize(fn) {\n  var lastArgs;\n  var lastResult;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!lastArgs || args.length !== lastArgs.length || args.some(function (arg, index) {\n      return !shallowEqual(lastArgs[index], arg);\n    })) {\n      lastArgs = args;\n      lastResult = fn.apply(void 0, args);\n    }\n\n    return lastResult;\n  };\n};\n\nvar isPromise = (function (obj) {\n  return !!obj && (typeof obj === \"object\" || typeof obj === \"function\") && typeof obj.then === \"function\";\n});\n\nvar version = \"4.20.7\";\n\nvar configOptions = [\"debug\", \"initialValues\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"validate\", \"validateOnBlur\"];\n\nvar tripleEquals = function tripleEquals(a, b) {\n  return a === b;\n};\n\nvar hasAnyError = function hasAnyError(errors) {\n  return Object.keys(errors).some(function (key) {\n    var value = errors[key];\n\n    if (value && typeof value === \"object\" && !(value instanceof Error)) {\n      return hasAnyError(value);\n    }\n\n    return typeof value !== \"undefined\";\n  });\n};\n\nfunction convertToExternalFormState(_ref) {\n  var active = _ref.active,\n      dirtySinceLastSubmit = _ref.dirtySinceLastSubmit,\n      modifiedSinceLastSubmit = _ref.modifiedSinceLastSubmit,\n      error = _ref.error,\n      errors = _ref.errors,\n      initialValues = _ref.initialValues,\n      pristine = _ref.pristine,\n      submitting = _ref.submitting,\n      submitFailed = _ref.submitFailed,\n      submitSucceeded = _ref.submitSucceeded,\n      submitError = _ref.submitError,\n      submitErrors = _ref.submitErrors,\n      valid = _ref.valid,\n      validating = _ref.validating,\n      values = _ref.values;\n  return {\n    active: active,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    error: error,\n    errors: errors,\n    hasSubmitErrors: !!(submitError || submitErrors && hasAnyError(submitErrors)),\n    hasValidationErrors: !!(error || hasAnyError(errors)),\n    invalid: !valid,\n    initialValues: initialValues,\n    pristine: pristine,\n    submitting: submitting,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitError: submitError,\n    submitErrors: submitErrors,\n    valid: valid,\n    validating: validating > 0,\n    values: values\n  };\n}\n\nfunction notifySubscriber(subscriber, subscription, state, lastState, filter, force) {\n  var notification = filter(state, lastState, subscription, force);\n\n  if (notification) {\n    subscriber(notification);\n    return true;\n  }\n\n  return false;\n}\n\nfunction notify(_ref2, state, lastState, filter, force) {\n  var entries = _ref2.entries;\n  Object.keys(entries).forEach(function (key) {\n    var entry = entries[Number(key)]; // istanbul ignore next\n\n    if (entry) {\n      var subscription = entry.subscription,\n          subscriber = entry.subscriber,\n          notified = entry.notified;\n\n      if (notifySubscriber(subscriber, subscription, state, lastState, filter, force || !notified)) {\n        entry.notified = true;\n      }\n    }\n  });\n}\n\nfunction createForm(config) {\n  if (!config) {\n    throw new Error(\"No config specified\");\n  }\n\n  var debug = config.debug,\n      destroyOnUnregister = config.destroyOnUnregister,\n      keepDirtyOnReinitialize = config.keepDirtyOnReinitialize,\n      initialValues = config.initialValues,\n      mutators = config.mutators,\n      onSubmit = config.onSubmit,\n      validate = config.validate,\n      validateOnBlur = config.validateOnBlur;\n\n  if (!onSubmit) {\n    throw new Error(\"No onSubmit function specified\");\n  }\n\n  var state = {\n    subscribers: {\n      index: 0,\n      entries: {}\n    },\n    fieldSubscribers: {},\n    fields: {},\n    formState: {\n      asyncErrors: {},\n      dirtySinceLastSubmit: false,\n      modifiedSinceLastSubmit: false,\n      errors: {},\n      initialValues: initialValues && _extends({}, initialValues),\n      invalid: false,\n      pristine: true,\n      submitting: false,\n      submitFailed: false,\n      submitSucceeded: false,\n      resetWhileSubmitting: false,\n      valid: true,\n      validating: 0,\n      values: initialValues ? _extends({}, initialValues) : {}\n    },\n    lastFormState: undefined\n  };\n  var inBatch = 0;\n  var validationPaused = false;\n  var validationBlocked = false;\n  var preventNotificationWhileValidationPaused = false;\n  var nextAsyncValidationKey = 0;\n  var asyncValidationPromises = {};\n\n  var clearAsyncValidationPromise = function clearAsyncValidationPromise(key) {\n    return function (result) {\n      delete asyncValidationPromises[key];\n      return result;\n    };\n  };\n\n  var changeValue = function changeValue(state, name, mutate) {\n    var before = getIn(state.formState.values, name);\n    var after = mutate(before);\n    state.formState.values = setIn(state.formState.values, name, after) || {};\n  };\n\n  var renameField = function renameField(state, from, to) {\n    if (state.fields[from]) {\n      var _extends2, _extends3;\n\n      state.fields = _extends({}, state.fields, (_extends2 = {}, _extends2[to] = _extends({}, state.fields[from], {\n        name: to,\n        // rebind event handlers\n        blur: function blur() {\n          return api.blur(to);\n        },\n        change: function change(value) {\n          return api.change(to, value);\n        },\n        focus: function focus() {\n          return api.focus(to);\n        },\n        lastFieldState: undefined\n      }), _extends2));\n      delete state.fields[from];\n      state.fieldSubscribers = _extends({}, state.fieldSubscribers, (_extends3 = {}, _extends3[to] = state.fieldSubscribers[from], _extends3));\n      delete state.fieldSubscribers[from];\n      var value = getIn(state.formState.values, from);\n      state.formState.values = setIn(state.formState.values, from, undefined) || {};\n      state.formState.values = setIn(state.formState.values, to, value);\n      delete state.lastFormState;\n    }\n  }; // bind state to mutators\n\n\n  var getMutatorApi = function getMutatorApi(key) {\n    return function () {\n      // istanbul ignore next\n      if (mutators) {\n        // ^^ causes branch coverage warning, but needed to appease the Flow gods\n        var mutatableState = {\n          formState: state.formState,\n          fields: state.fields,\n          fieldSubscribers: state.fieldSubscribers,\n          lastFormState: state.lastFormState\n        };\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var returnValue = mutators[key](args, mutatableState, {\n          changeValue: changeValue,\n          getIn: getIn,\n          renameField: renameField,\n          resetFieldState: api.resetFieldState,\n          setIn: setIn,\n          shallowEqual: shallowEqual\n        });\n        state.formState = mutatableState.formState;\n        state.fields = mutatableState.fields;\n        state.fieldSubscribers = mutatableState.fieldSubscribers;\n        state.lastFormState = mutatableState.lastFormState;\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n        return returnValue;\n      }\n    };\n  };\n\n  var mutatorsApi = mutators ? Object.keys(mutators).reduce(function (result, key) {\n    result[key] = getMutatorApi(key);\n    return result;\n  }, {}) : {};\n\n  var runRecordLevelValidation = function runRecordLevelValidation(setErrors) {\n    var promises = [];\n\n    if (validate) {\n      var errorsOrPromise = validate(_extends({}, state.formState.values)); // clone to avoid writing\n\n      if (isPromise(errorsOrPromise)) {\n        promises.push(errorsOrPromise.then(function (errors) {\n          return setErrors(errors, true);\n        }));\n      } else {\n        setErrors(errorsOrPromise, false);\n      }\n    }\n\n    return promises;\n  };\n\n  var getValidators = function getValidators(field) {\n    return Object.keys(field.validators).reduce(function (result, index) {\n      var validator = field.validators[Number(index)]();\n\n      if (validator) {\n        result.push(validator);\n      }\n\n      return result;\n    }, []);\n  };\n\n  var runFieldLevelValidation = function runFieldLevelValidation(field, setError) {\n    var promises = [];\n    var validators = getValidators(field);\n\n    if (validators.length) {\n      var error;\n      validators.forEach(function (validator) {\n        var errorOrPromise = validator(getIn(state.formState.values, field.name), state.formState.values, validator.length === 0 || validator.length === 3 ? publishFieldState(state.formState, state.fields[field.name]) : undefined);\n\n        if (errorOrPromise && isPromise(errorOrPromise)) {\n          field.validating = true;\n          var promise = errorOrPromise.then(function (error) {\n            if (state.fields[field.name]) {\n              state.fields[field.name].validating = false;\n              setError(error);\n            }\n          }); // errors must be resolved, not rejected\n\n          promises.push(promise);\n        } else if (!error) {\n          // first registered validator wins\n          error = errorOrPromise;\n        }\n      });\n      setError(error);\n    }\n\n    return promises;\n  };\n\n  var runValidation = function runValidation(fieldChanged, callback) {\n    if (validationPaused) {\n      validationBlocked = true;\n      callback();\n      return;\n    }\n\n    var fields = state.fields,\n        formState = state.formState;\n\n    var safeFields = _extends({}, fields);\n\n    var fieldKeys = Object.keys(safeFields);\n\n    if (!validate && !fieldKeys.some(function (key) {\n      return getValidators(safeFields[key]).length;\n    })) {\n      callback();\n      return; // no validation rules\n    } // pare down field keys to actually validate\n\n\n    var limitedFieldLevelValidation = false;\n\n    if (fieldChanged) {\n      var changedField = safeFields[fieldChanged];\n\n      if (changedField) {\n        var validateFields = changedField.validateFields;\n\n        if (validateFields) {\n          limitedFieldLevelValidation = true;\n          fieldKeys = validateFields.length ? validateFields.concat(fieldChanged) : [fieldChanged];\n        }\n      }\n    }\n\n    var recordLevelErrors = {};\n    var asyncRecordLevelErrors = {};\n    var fieldLevelErrors = {};\n    var promises = [].concat(runRecordLevelValidation(function (errors, wasAsync) {\n      if (wasAsync) {\n        asyncRecordLevelErrors = errors || {};\n      } else {\n        recordLevelErrors = errors || {};\n      }\n    }), fieldKeys.reduce(function (result, name) {\n      return result.concat(runFieldLevelValidation(fields[name], function (error) {\n        fieldLevelErrors[name] = error;\n      }));\n    }, []));\n    var hasAsyncValidations = promises.length > 0;\n    var asyncValidationPromiseKey = ++nextAsyncValidationKey;\n    var promise = Promise.all(promises).then(clearAsyncValidationPromise(asyncValidationPromiseKey)); // backwards-compat: add promise to submit-blocking promises iff there are any promises to await\n\n    if (hasAsyncValidations) {\n      asyncValidationPromises[asyncValidationPromiseKey] = promise;\n    }\n\n    var processErrors = function processErrors(afterAsync) {\n      var merged = _extends({}, limitedFieldLevelValidation ? formState.errors : {}, recordLevelErrors, afterAsync ? asyncRecordLevelErrors // new async errors\n      : formState.asyncErrors);\n\n      var forEachError = function forEachError(fn) {\n        fieldKeys.forEach(function (name) {\n          if (fields[name]) {\n            // make sure field is still registered\n            // field-level errors take precedent over record-level errors\n            var recordLevelError = getIn(recordLevelErrors, name);\n            var errorFromParent = getIn(merged, name);\n            var hasFieldLevelValidation = getValidators(safeFields[name]).length;\n            var fieldLevelError = fieldLevelErrors[name];\n            fn(name, hasFieldLevelValidation && fieldLevelError || validate && recordLevelError || (!recordLevelError && !limitedFieldLevelValidation ? errorFromParent : undefined));\n          }\n        });\n      };\n\n      forEachError(function (name, error) {\n        merged = setIn(merged, name, error) || {};\n      });\n      forEachError(function (name, error) {\n        if (error && error[ARRAY_ERROR]) {\n          var existing = getIn(merged, name);\n          var copy = [].concat(existing);\n          copy[ARRAY_ERROR] = error[ARRAY_ERROR];\n          merged = setIn(merged, name, copy);\n        }\n      });\n\n      if (!shallowEqual(formState.errors, merged)) {\n        formState.errors = merged;\n      }\n\n      if (afterAsync) {\n        formState.asyncErrors = asyncRecordLevelErrors;\n      }\n\n      formState.error = recordLevelErrors[FORM_ERROR];\n    };\n\n    if (hasAsyncValidations) {\n      // async validations are running, ensure validating is true before notifying\n      state.formState.validating++;\n      callback();\n    } // process sync errors\n\n\n    processErrors(false); // sync errors have been set. notify listeners while we wait for others\n\n    callback();\n\n    if (hasAsyncValidations) {\n      var afterPromise = function afterPromise() {\n        state.formState.validating--;\n        callback();\n      };\n\n      promise.then(function () {\n        if (nextAsyncValidationKey > asyncValidationPromiseKey) {\n          // if this async validator has been superseded by another, ignore its results\n          return;\n        }\n\n        processErrors(true);\n      }).then(afterPromise, afterPromise);\n    }\n  };\n\n  var notifyFieldListeners = function notifyFieldListeners(name) {\n    if (inBatch) {\n      return;\n    }\n\n    var fields = state.fields,\n        fieldSubscribers = state.fieldSubscribers,\n        formState = state.formState;\n\n    var safeFields = _extends({}, fields);\n\n    var notifyField = function notifyField(name) {\n      var field = safeFields[name];\n      var fieldState = publishFieldState(formState, field);\n      var lastFieldState = field.lastFieldState;\n      field.lastFieldState = fieldState;\n      var fieldSubscriber = fieldSubscribers[name];\n\n      if (fieldSubscriber) {\n        notify(fieldSubscriber, fieldState, lastFieldState, filterFieldState, lastFieldState === undefined);\n      }\n    };\n\n    if (name) {\n      notifyField(name);\n    } else {\n      Object.keys(safeFields).forEach(notifyField);\n    }\n  };\n\n  var markAllFieldsTouched = function markAllFieldsTouched() {\n    Object.keys(state.fields).forEach(function (key) {\n      state.fields[key].touched = true;\n    });\n  };\n\n  var hasSyncErrors = function hasSyncErrors() {\n    return !!(state.formState.error || hasAnyError(state.formState.errors));\n  };\n\n  var calculateNextFormState = function calculateNextFormState() {\n    var fields = state.fields,\n        formState = state.formState,\n        lastFormState = state.lastFormState;\n\n    var safeFields = _extends({}, fields);\n\n    var safeFieldKeys = Object.keys(safeFields); // calculate dirty/pristine\n\n    var foundDirty = false;\n    var dirtyFields = safeFieldKeys.reduce(function (result, key) {\n      var dirty = !safeFields[key].isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n\n      if (dirty) {\n        foundDirty = true;\n        result[key] = true;\n      }\n\n      return result;\n    }, {});\n    var dirtyFieldsSinceLastSubmit = safeFieldKeys.reduce(function (result, key) {\n      // istanbul ignore next\n      var nonNullLastSubmittedValues = formState.lastSubmittedValues || {}; // || {} is for flow, but causes branch coverage complaint\n\n      if (!safeFields[key].isEqual(getIn(formState.values, key), getIn(nonNullLastSubmittedValues, key))) {\n        result[key] = true;\n      }\n\n      return result;\n    }, {});\n    formState.pristine = !foundDirty;\n    formState.dirtySinceLastSubmit = !!(formState.lastSubmittedValues && Object.values(dirtyFieldsSinceLastSubmit).some(function (value) {\n      return value;\n    }));\n    formState.modifiedSinceLastSubmit = !!(formState.lastSubmittedValues && // Object.values would treat values as mixed (facebook/flow#2221)\n    Object.keys(safeFields).some(function (value) {\n      return safeFields[value].modifiedSinceLastSubmit;\n    }));\n    formState.valid = !formState.error && !formState.submitError && !hasAnyError(formState.errors) && !(formState.submitErrors && hasAnyError(formState.submitErrors));\n    var nextFormState = convertToExternalFormState(formState);\n\n    var _safeFieldKeys$reduce = safeFieldKeys.reduce(function (result, key) {\n      result.modified[key] = safeFields[key].modified;\n      result.touched[key] = safeFields[key].touched;\n      result.visited[key] = safeFields[key].visited;\n      return result;\n    }, {\n      modified: {},\n      touched: {},\n      visited: {}\n    }),\n        modified = _safeFieldKeys$reduce.modified,\n        touched = _safeFieldKeys$reduce.touched,\n        visited = _safeFieldKeys$reduce.visited;\n\n    nextFormState.dirtyFields = lastFormState && shallowEqual(lastFormState.dirtyFields, dirtyFields) ? lastFormState.dirtyFields : dirtyFields;\n    nextFormState.dirtyFieldsSinceLastSubmit = lastFormState && shallowEqual(lastFormState.dirtyFieldsSinceLastSubmit, dirtyFieldsSinceLastSubmit) ? lastFormState.dirtyFieldsSinceLastSubmit : dirtyFieldsSinceLastSubmit;\n    nextFormState.modified = lastFormState && shallowEqual(lastFormState.modified, modified) ? lastFormState.modified : modified;\n    nextFormState.touched = lastFormState && shallowEqual(lastFormState.touched, touched) ? lastFormState.touched : touched;\n    nextFormState.visited = lastFormState && shallowEqual(lastFormState.visited, visited) ? lastFormState.visited : visited;\n    return lastFormState && shallowEqual(lastFormState, nextFormState) ? lastFormState : nextFormState;\n  };\n\n  var callDebug = function callDebug() {\n    return debug && \"development\" !== \"production\" && debug(calculateNextFormState(), Object.keys(state.fields).reduce(function (result, key) {\n      result[key] = state.fields[key];\n      return result;\n    }, {}));\n  };\n\n  var notifying = false;\n  var scheduleNotification = false;\n\n  var notifyFormListeners = function notifyFormListeners() {\n    if (notifying) {\n      scheduleNotification = true;\n    } else {\n      notifying = true;\n      callDebug();\n\n      if (!inBatch && !(validationPaused && preventNotificationWhileValidationPaused)) {\n        var lastFormState = state.lastFormState;\n        var nextFormState = calculateNextFormState();\n\n        if (nextFormState !== lastFormState) {\n          state.lastFormState = nextFormState;\n          notify(state.subscribers, nextFormState, lastFormState, filterFormState);\n        }\n      }\n\n      notifying = false;\n\n      if (scheduleNotification) {\n        scheduleNotification = false;\n        notifyFormListeners();\n      }\n    }\n  };\n\n  var beforeSubmit = function beforeSubmit() {\n    return Object.keys(state.fields).some(function (name) {\n      return state.fields[name].beforeSubmit && state.fields[name].beforeSubmit() === false;\n    });\n  };\n\n  var afterSubmit = function afterSubmit() {\n    return Object.keys(state.fields).forEach(function (name) {\n      return state.fields[name].afterSubmit && state.fields[name].afterSubmit();\n    });\n  };\n\n  var resetModifiedAfterSubmit = function resetModifiedAfterSubmit() {\n    return Object.keys(state.fields).forEach(function (key) {\n      return state.fields[key].modifiedSinceLastSubmit = false;\n    });\n  }; // generate initial errors\n\n\n  runValidation(undefined, function () {\n    notifyFormListeners();\n  });\n  var api = {\n    batch: function batch(fn) {\n      inBatch++;\n      fn();\n      inBatch--;\n      notifyFieldListeners();\n      notifyFormListeners();\n    },\n    blur: function blur(name) {\n      var fields = state.fields,\n          formState = state.formState;\n      var previous = fields[name];\n\n      if (previous) {\n        // can only blur registered fields\n        delete formState.active;\n        fields[name] = _extends({}, previous, {\n          active: false,\n          touched: true\n        });\n\n        if (validateOnBlur) {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        } else {\n          notifyFieldListeners();\n          notifyFormListeners();\n        }\n      }\n    },\n    change: function change(name, value) {\n      var fields = state.fields,\n          formState = state.formState;\n\n      if (getIn(formState.values, name) !== value) {\n        changeValue(state, name, function () {\n          return value;\n        });\n        var previous = fields[name];\n\n        if (previous) {\n          // only track modified for registered fields\n          fields[name] = _extends({}, previous, {\n            modified: true,\n            modifiedSinceLastSubmit: !!formState.lastSubmittedValues\n          });\n        }\n\n        if (validateOnBlur) {\n          notifyFieldListeners();\n          notifyFormListeners();\n        } else {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        }\n      }\n    },\n\n    get destroyOnUnregister() {\n      return !!destroyOnUnregister;\n    },\n\n    set destroyOnUnregister(value) {\n      destroyOnUnregister = value;\n    },\n\n    focus: function focus(name) {\n      var field = state.fields[name];\n\n      if (field && !field.active) {\n        state.formState.active = name;\n        field.active = true;\n        field.visited = true;\n        notifyFieldListeners();\n        notifyFormListeners();\n      }\n    },\n    mutators: mutatorsApi,\n    getFieldState: function getFieldState(name) {\n      var field = state.fields[name];\n      return field && field.lastFieldState;\n    },\n    getRegisteredFields: function getRegisteredFields() {\n      return Object.keys(state.fields);\n    },\n    getState: function getState() {\n      return calculateNextFormState();\n    },\n    initialize: function initialize(data) {\n      var fields = state.fields,\n          formState = state.formState;\n\n      var safeFields = _extends({}, fields);\n\n      var values = typeof data === \"function\" ? data(formState.values) : data;\n\n      if (!keepDirtyOnReinitialize) {\n        formState.values = values;\n      }\n      /**\n       * Hello, inquisitive code reader! Thanks for taking the time to dig in!\n       *\n       * The following code is the way it is to allow for non-registered deep\n       * field values to be set via initialize()\n       */\n      // save dirty values\n\n\n      var savedDirtyValues = keepDirtyOnReinitialize ? Object.keys(safeFields).reduce(function (result, key) {\n        var field = safeFields[key];\n        var pristine = field.isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n\n        if (!pristine) {\n          result[key] = getIn(formState.values, key);\n        }\n\n        return result;\n      }, {}) : {}; // update initalValues and values\n\n      formState.initialValues = values;\n      formState.values = values; // restore the dirty values\n\n      Object.keys(savedDirtyValues).forEach(function (key) {\n        formState.values = setIn(formState.values, key, savedDirtyValues[key]) || {};\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n    isValidationPaused: function isValidationPaused() {\n      return validationPaused;\n    },\n    pauseValidation: function pauseValidation(preventNotification) {\n      if (preventNotification === void 0) {\n        preventNotification = true;\n      }\n\n      validationPaused = true;\n      preventNotificationWhileValidationPaused = preventNotification;\n    },\n    registerField: function registerField(name, subscriber, subscription, fieldConfig) {\n      if (subscription === void 0) {\n        subscription = {};\n      }\n\n      if (!state.fieldSubscribers[name]) {\n        state.fieldSubscribers[name] = {\n          index: 0,\n          entries: {}\n        };\n      }\n\n      var index = state.fieldSubscribers[name].index++; // save field subscriber callback\n\n      state.fieldSubscribers[name].entries[index] = {\n        subscriber: memoize(subscriber),\n        subscription: subscription,\n        notified: false\n      };\n\n      if (!state.fields[name]) {\n        // create initial field state\n        state.fields[name] = {\n          active: false,\n          afterSubmit: fieldConfig && fieldConfig.afterSubmit,\n          beforeSubmit: fieldConfig && fieldConfig.beforeSubmit,\n          blur: function blur() {\n            return api.blur(name);\n          },\n          change: function change(value) {\n            return api.change(name, value);\n          },\n          data: fieldConfig && fieldConfig.data || {},\n          focus: function focus() {\n            return api.focus(name);\n          },\n          isEqual: fieldConfig && fieldConfig.isEqual || tripleEquals,\n          lastFieldState: undefined,\n          modified: false,\n          modifiedSinceLastSubmit: false,\n          name: name,\n          touched: false,\n          valid: true,\n          validateFields: fieldConfig && fieldConfig.validateFields,\n          validators: {},\n          validating: false,\n          visited: false\n        };\n      }\n\n      var haveValidator = false;\n      var silent = fieldConfig && fieldConfig.silent;\n\n      var notify = function notify() {\n        if (silent) {\n          notifyFieldListeners(name);\n        } else {\n          notifyFormListeners();\n          notifyFieldListeners();\n        }\n      };\n\n      if (fieldConfig) {\n        haveValidator = !!(fieldConfig.getValidator && fieldConfig.getValidator());\n\n        if (fieldConfig.getValidator) {\n          state.fields[name].validators[index] = fieldConfig.getValidator;\n        }\n\n        var noValueInFormState = getIn(state.formState.values, name) === undefined;\n\n        if (fieldConfig.initialValue !== undefined && (noValueInFormState || getIn(state.formState.values, name) === getIn(state.formState.initialValues, name)) // only initialize if we don't yet have any value for this field\n        ) {\n          state.formState.initialValues = setIn(state.formState.initialValues || {}, name, fieldConfig.initialValue);\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.initialValue);\n          runValidation(undefined, notify);\n        } // only use defaultValue if we don't yet have any value for this field\n\n\n        if (fieldConfig.defaultValue !== undefined && fieldConfig.initialValue === undefined && getIn(state.formState.initialValues, name) === undefined && noValueInFormState) {\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.defaultValue);\n        }\n      }\n\n      if (haveValidator) {\n        runValidation(undefined, notify);\n      } else {\n        notify();\n      }\n\n      return function () {\n        var validatorRemoved = false; // istanbul ignore next\n\n        if (state.fields[name]) {\n          // state.fields[name] may have been removed by a mutator\n          validatorRemoved = !!(state.fields[name].validators[index] && state.fields[name].validators[index]());\n          delete state.fields[name].validators[index];\n        }\n\n        var hasFieldSubscribers = !!state.fieldSubscribers[name];\n\n        if (hasFieldSubscribers) {\n          // state.fieldSubscribers[name] may have been removed by a mutator\n          delete state.fieldSubscribers[name].entries[index];\n        }\n\n        var lastOne = hasFieldSubscribers && !Object.keys(state.fieldSubscribers[name].entries).length;\n\n        if (lastOne) {\n          delete state.fieldSubscribers[name];\n          delete state.fields[name];\n\n          if (validatorRemoved) {\n            state.formState.errors = setIn(state.formState.errors, name, undefined) || {};\n          }\n\n          if (destroyOnUnregister) {\n            state.formState.values = setIn(state.formState.values, name, undefined, true) || {};\n          }\n        }\n\n        if (!silent) {\n          if (validatorRemoved) {\n            runValidation(undefined, function () {\n              notifyFormListeners();\n              notifyFieldListeners();\n            });\n          } else if (lastOne) {\n            // values or errors may have changed\n            notifyFormListeners();\n          }\n        }\n      };\n    },\n    reset: function reset(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n\n      if (state.formState.submitting) {\n        state.formState.resetWhileSubmitting = true;\n      }\n\n      state.formState.submitFailed = false;\n      state.formState.submitSucceeded = false;\n      delete state.formState.submitError;\n      delete state.formState.submitErrors;\n      delete state.formState.lastSubmittedValues;\n      api.initialize(initialValues || {});\n    },\n\n    /**\n     * Resets all field flags (e.g. touched, visited, etc.) to their initial state\n     */\n    resetFieldState: function resetFieldState(name) {\n      state.fields[name] = _extends({}, state.fields[name], {\n        active: false,\n        lastFieldState: undefined,\n        modified: false,\n        touched: false,\n        valid: true,\n        validating: false,\n        visited: false\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n\n    /**\n     * Returns the form to a clean slate; that is:\n     * - Clear all values\n     * - Resets all fields to their initial state\n     */\n    restart: function restart(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n\n      api.batch(function () {\n        for (var name in state.fields) {\n          api.resetFieldState(name);\n          state.fields[name] = _extends({}, state.fields[name], {\n            active: false,\n            lastFieldState: undefined,\n            modified: false,\n            modifiedSinceLastSubmit: false,\n            touched: false,\n            valid: true,\n            validating: false,\n            visited: false\n          });\n        }\n\n        api.reset(initialValues);\n      });\n    },\n    resumeValidation: function resumeValidation() {\n      validationPaused = false;\n      preventNotificationWhileValidationPaused = false;\n\n      if (validationBlocked) {\n        // validation was attempted while it was paused, so run it now\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n      }\n\n      validationBlocked = false;\n    },\n    setConfig: function setConfig(name, value) {\n      switch (name) {\n        case \"debug\":\n          debug = value;\n          break;\n\n        case \"destroyOnUnregister\":\n          destroyOnUnregister = value;\n          break;\n\n        case \"initialValues\":\n          api.initialize(value);\n          break;\n\n        case \"keepDirtyOnReinitialize\":\n          keepDirtyOnReinitialize = value;\n          break;\n\n        case \"mutators\":\n          mutators = value;\n\n          if (value) {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              if (!(key in value)) {\n                delete mutatorsApi[key];\n              }\n            });\n            Object.keys(value).forEach(function (key) {\n              mutatorsApi[key] = getMutatorApi(key);\n            });\n          } else {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              delete mutatorsApi[key];\n            });\n          }\n\n          break;\n\n        case \"onSubmit\":\n          onSubmit = value;\n          break;\n\n        case \"validate\":\n          validate = value;\n          runValidation(undefined, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n          break;\n\n        case \"validateOnBlur\":\n          validateOnBlur = value;\n          break;\n\n        default:\n          throw new Error(\"Unrecognised option \" + name);\n      }\n    },\n    submit: function submit() {\n      var formState = state.formState;\n\n      if (formState.submitting) {\n        return;\n      }\n\n      delete formState.submitErrors;\n      delete formState.submitError;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n\n      if (hasSyncErrors()) {\n        markAllFieldsTouched();\n        resetModifiedAfterSubmit();\n        state.formState.submitFailed = true;\n        notifyFormListeners();\n        notifyFieldListeners();\n        return; // no submit for you!!\n      }\n\n      var asyncValidationPromisesKeys = Object.keys(asyncValidationPromises);\n\n      if (asyncValidationPromisesKeys.length) {\n        // still waiting on async validation to complete...\n        Promise.all(asyncValidationPromisesKeys.map(function (key) {\n          return asyncValidationPromises[Number(key)];\n        })).then(api.submit, console.error);\n        return;\n      }\n\n      var submitIsBlocked = beforeSubmit();\n\n      if (submitIsBlocked) {\n        return;\n      }\n\n      var resolvePromise;\n      var completeCalled = false;\n\n      var complete = function complete(errors) {\n        formState.submitting = false;\n        var resetWhileSubmitting = formState.resetWhileSubmitting;\n\n        if (resetWhileSubmitting) {\n          formState.resetWhileSubmitting = false;\n        }\n\n        if (errors && hasAnyError(errors)) {\n          formState.submitFailed = true;\n          formState.submitSucceeded = false;\n          formState.submitErrors = errors;\n          formState.submitError = errors[FORM_ERROR];\n          markAllFieldsTouched();\n        } else {\n          if (!resetWhileSubmitting) {\n            formState.submitFailed = false;\n            formState.submitSucceeded = true;\n          }\n\n          afterSubmit();\n        }\n\n        notifyFormListeners();\n        notifyFieldListeners();\n        completeCalled = true;\n\n        if (resolvePromise) {\n          resolvePromise(errors);\n        }\n\n        return errors;\n      };\n\n      formState.submitting = true;\n      formState.submitFailed = false;\n      formState.submitSucceeded = false;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n      resetModifiedAfterSubmit(); // onSubmit is either sync, callback or async with a Promise\n\n      var result = onSubmit(formState.values, api, complete);\n\n      if (!completeCalled) {\n        if (result && isPromise(result)) {\n          // onSubmit is async with a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n\n          notifyFieldListeners(); // notify fields also\n\n          return result.then(complete, function (error) {\n            complete();\n            throw error;\n          });\n        } else if (onSubmit.length >= 3) {\n          // must be async, so we should return a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n\n          notifyFieldListeners(); // notify fields also\n\n          return new Promise(function (resolve) {\n            resolvePromise = resolve;\n          });\n        } else {\n          // onSubmit is sync\n          complete(result);\n        }\n      }\n    },\n    subscribe: function subscribe(subscriber, subscription) {\n      if (!subscriber) {\n        throw new Error(\"No callback given.\");\n      }\n\n      if (!subscription) {\n        throw new Error(\"No subscription provided. What values do you want to listen to?\");\n      }\n\n      var memoized = memoize(subscriber);\n      var subscribers = state.subscribers;\n      var index = subscribers.index++;\n      subscribers.entries[index] = {\n        subscriber: memoized,\n        subscription: subscription,\n        notified: false\n      };\n      var nextFormState = calculateNextFormState();\n      notifySubscriber(memoized, subscription, nextFormState, nextFormState, filterFormState, true);\n      return function () {\n        delete subscribers.entries[index];\n      };\n    }\n  };\n  return api;\n}\n\nexport { ARRAY_ERROR, FORM_ERROR, configOptions, createForm, fieldSubscriptionItems, formSubscriptionItems, getIn, setIn, version };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport * as React from 'react';\nimport React__default from 'react';\nimport { formSubscriptionItems, createForm, version as version$1, fieldSubscriptionItems } from 'final-form';\n\nvar _excluded$3 = [\"render\", \"children\", \"component\"];\n// shared logic between components that use either render prop,\n// children render function, or component prop\nfunction renderComponent(props, lazyProps, name) {\n  var render = props.render,\n      children = props.children,\n      component = props.component,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n\n  if (component) {\n    return /*#__PURE__*/React.createElement(component, Object.assign(lazyProps, rest, {\n      children: children,\n      render: render\n    }));\n  }\n\n  if (render) {\n    return render(children === undefined ? Object.assign(lazyProps, rest) : // inject children back in\n    Object.assign(lazyProps, rest, {\n      children: children\n    }));\n  }\n\n  if (typeof children !== \"function\") {\n    throw new Error(\"Must specify either a render prop, a render function as children, or a component prop to \" + name);\n  }\n\n  return children(Object.assign(lazyProps, rest));\n}\n\nfunction useWhenValueChanges(value, callback, isEqual) {\n  if (isEqual === void 0) {\n    isEqual = function isEqual(a, b) {\n      return a === b;\n    };\n  }\n\n  var previous = React__default.useRef(value);\n  React__default.useEffect(function () {\n    if (!isEqual(value, previous.current)) {\n      callback();\n      previous.current = value;\n    }\n  });\n}\n\n/**\n * A simple hook to create a constant value that lives for\n * the lifetime of the component.\n *\n * Plagiarized from https://github.com/Andarist/use-constant\n *\n * Do NOT reuse this code unless you know what you're doing.\n * Use Andarist's hook; it's more fault tolerant to things like\n * falsy values.\n *\n * @param {Function} init - A function to generate the value\n */\n\nfunction useConstant(init) {\n  var ref = React__default.useRef();\n\n  if (!ref.current) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar isSyntheticEvent = function isSyntheticEvent(candidate) {\n  return !!(candidate && typeof candidate.stopPropagation === \"function\");\n};\n\nvar ReactFinalFormContext = /*#__PURE__*/React.createContext();\n\nfunction useLatest(value) {\n  var ref = React__default.useRef(value);\n  React__default.useEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n}\n\nvar version = \"6.5.8\";\n\nvar addLazyState = function addLazyState(dest, state, keys) {\n  keys.forEach(function (key) {\n    Object.defineProperty(dest, key, {\n      get: function get() {\n        return state[key];\n      },\n      enumerable: true\n    });\n  });\n};\n\nvar addLazyFormState = function addLazyFormState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"dirty\", \"dirtyFields\", \"dirtySinceLastSubmit\", \"dirtyFieldsSinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n};\nvar addLazyFieldMetaState = function addLazyFieldMetaState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"visited\"]);\n};\n\nvar _excluded$2 = [\"debug\", \"decorators\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"subscription\", \"validate\", \"validateOnBlur\"];\nvar versions = {\n  \"final-form\": version$1,\n  \"react-final-form\": version\n};\nvar all$1 = formSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nfunction ReactFinalForm(_ref) {\n  var debug = _ref.debug,\n      _ref$decorators = _ref.decorators,\n      decorators = _ref$decorators === void 0 ? [] : _ref$decorators,\n      destroyOnUnregister = _ref.destroyOnUnregister,\n      alternateFormApi = _ref.form,\n      initialValues = _ref.initialValues,\n      initialValuesEqual = _ref.initialValuesEqual,\n      keepDirtyOnReinitialize = _ref.keepDirtyOnReinitialize,\n      mutators = _ref.mutators,\n      onSubmit = _ref.onSubmit,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription,\n      validate = _ref.validate,\n      validateOnBlur = _ref.validateOnBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  var config = {\n    debug: debug,\n    destroyOnUnregister: destroyOnUnregister,\n    initialValues: initialValues,\n    keepDirtyOnReinitialize: keepDirtyOnReinitialize,\n    mutators: mutators,\n    onSubmit: onSubmit,\n    validate: validate,\n    validateOnBlur: validateOnBlur\n  };\n  var form = useConstant(function () {\n    var f = alternateFormApi || createForm(config); // pause validation until children register all fields on first render (unpaused in useEffect() below)\n\n    f.pauseValidation();\n    return f;\n  }); // synchronously register and unregister to query form state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1]; // save a copy of state that can break through the closure\n  // on the shallowEqual() line below.\n\n\n  var stateRef = useLatest(state);\n  React.useEffect(function () {\n    // We have rendered, so all fields are now registered, so we can unpause validation\n    form.isValidationPaused() && form.resumeValidation();\n    var unsubscriptions = [form.subscribe(function (s) {\n      if (!shallowEqual(s, stateRef.current)) {\n        setState(s);\n      }\n    }, subscription)].concat(decorators ? decorators.map(function (decorator) {\n      return (// this noop ternary is to appease the flow gods\n        // istanbul ignore next\n        decorator(form)\n      );\n    }) : []);\n    return function () {\n      form.pauseValidation(); // pause validation so we don't revalidate on every field deregistration\n\n      unsubscriptions.reverse().forEach(function (unsubscribe) {\n        return unsubscribe();\n      }); // don't need to resume validation here; either unmounting, or will re-run this hook with new deps\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, decorators); // warn about decorator changes\n  // istanbul ignore next\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // You're never supposed to use hooks inside a conditional, but in this\n    // case we can be certain that you're not going to be changing your\n    // NODE_ENV between renders, so this is safe.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useWhenValueChanges(decorators, function () {\n      console.error(\"Form decorators should not change from one render to the next as new values will be ignored\");\n    }, shallowEqual);\n  } // allow updatable config\n\n\n  useWhenValueChanges(debug, function () {\n    form.setConfig(\"debug\", debug);\n  });\n  useWhenValueChanges(destroyOnUnregister, function () {\n    form.destroyOnUnregister = !!destroyOnUnregister;\n  });\n  useWhenValueChanges(keepDirtyOnReinitialize, function () {\n    form.setConfig(\"keepDirtyOnReinitialize\", keepDirtyOnReinitialize);\n  });\n  useWhenValueChanges(initialValues, function () {\n    form.setConfig(\"initialValues\", initialValues);\n  }, initialValuesEqual || shallowEqual);\n  useWhenValueChanges(mutators, function () {\n    form.setConfig(\"mutators\", mutators);\n  });\n  useWhenValueChanges(onSubmit, function () {\n    form.setConfig(\"onSubmit\", onSubmit);\n  });\n  useWhenValueChanges(validate, function () {\n    form.setConfig(\"validate\", validate);\n  });\n  useWhenValueChanges(validateOnBlur, function () {\n    form.setConfig(\"validateOnBlur\", validateOnBlur);\n  });\n\n  var handleSubmit = function handleSubmit(event) {\n    if (event) {\n      // sometimes not true, e.g. React Native\n      if (typeof event.preventDefault === \"function\") {\n        event.preventDefault();\n      }\n\n      if (typeof event.stopPropagation === \"function\") {\n        // prevent any outer forms from receiving the event too\n        event.stopPropagation();\n      }\n    }\n\n    return form.submit();\n  };\n\n  var renderProps = {\n    form: _extends({}, form, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          form.reset();\n        } else {\n          form.reset(eventOrValues);\n        }\n      }\n    }),\n    handleSubmit: handleSubmit\n  };\n  addLazyFormState(renderProps, state);\n  return /*#__PURE__*/React.createElement(ReactFinalFormContext.Provider, {\n    value: form\n  }, renderComponent(_extends({}, rest, {\n    __versions: versions\n  }), renderProps, \"ReactFinalForm\"));\n}\n\nfunction useForm(componentName) {\n  var form = React.useContext(ReactFinalFormContext);\n\n  if (!form) {\n    throw new Error((componentName || \"useForm\") + \" must be used inside of a <Form> component\");\n  }\n\n  return form;\n}\n\nfunction useFormState(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      onChange = _ref.onChange,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription;\n\n  var form = useForm(\"useFormState\");\n  var firstRender = React.useRef(true);\n  var onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange; // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n\n    if (onChange) {\n      onChange(initialState);\n    }\n\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return form.subscribe(function (newState) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(newState);\n\n        if (onChangeRef.current) {\n          onChangeRef.current(newState);\n        }\n      }\n    }, subscription);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var lazyState = {};\n  addLazyFormState(lazyState, state);\n  return lazyState;\n}\n\nvar _excluded$1 = [\"onChange\", \"subscription\"];\n\nfunction FormSpy(_ref) {\n  var onChange = _ref.onChange,\n      subscription = _ref.subscription,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  var reactFinalForm = useForm(\"FormSpy\");\n  var state = useFormState({\n    onChange: onChange,\n    subscription: subscription\n  });\n\n  if (onChange) {\n    return null;\n  }\n\n  var renderProps = {\n    form: _extends({}, reactFinalForm, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          reactFinalForm.reset();\n        } else {\n          reactFinalForm.reset(eventOrValues);\n        }\n      }\n    })\n  };\n  return renderComponent(_extends({}, rest, renderProps), state, \"FormSpy\");\n}\n\nvar isReactNative = typeof window !== \"undefined\" && window.navigator && window.navigator.product && window.navigator.product === \"ReactNative\";\n\nvar getSelectedValues = function getSelectedValues(options) {\n  var result = [];\n\n  if (options) {\n    for (var index = 0; index < options.length; index++) {\n      var option = options[index];\n\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n\n  return result;\n};\n\nvar getValue = function getValue(event, currentValue, valueProp, isReactNative) {\n  if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {\n    return event.nativeEvent.text;\n  }\n\n  if (isReactNative && event.nativeEvent) {\n    return event.nativeEvent.text;\n  }\n\n  var detypedEvent = event;\n  var _detypedEvent$target = detypedEvent.target,\n      type = _detypedEvent$target.type,\n      value = _detypedEvent$target.value,\n      checked = _detypedEvent$target.checked;\n\n  switch (type) {\n    case \"checkbox\":\n      if (valueProp !== undefined) {\n        // we are maintaining an array, not just a boolean\n        if (checked) {\n          // add value to current array value\n          return Array.isArray(currentValue) ? currentValue.concat(valueProp) : [valueProp];\n        } else {\n          // remove value from current array value\n          if (!Array.isArray(currentValue)) {\n            return currentValue;\n          }\n\n          var index = currentValue.indexOf(valueProp);\n\n          if (index < 0) {\n            return currentValue;\n          } else {\n            return currentValue.slice(0, index).concat(currentValue.slice(index + 1));\n          }\n        }\n      } else {\n        // it's just a boolean\n        return !!checked;\n      }\n\n    case \"select-multiple\":\n      return getSelectedValues(event.target.options);\n\n    default:\n      return value;\n  }\n};\n\n/**\n * Creates a callback, even with closures, that will be\n * instance === for the lifetime of the component, always\n * calling the most recent version of the function and its\n * closures.\n */\n\nfunction useConstantCallback(callback) {\n  var ref = React.useRef(callback);\n  React.useEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current.apply(null, args);\n  }, []);\n}\n\nvar all = fieldSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nvar defaultFormat = function defaultFormat(value, name) {\n  return value === undefined ? \"\" : value;\n};\n\nvar defaultParse = function defaultParse(value, name) {\n  return value === \"\" ? undefined : value;\n};\n\nvar defaultIsEqual = function defaultIsEqual(a, b) {\n  return a === b;\n};\n\nfunction useField(name, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _config = config,\n      afterSubmit = _config.afterSubmit,\n      allowNull = _config.allowNull,\n      component = _config.component,\n      data = _config.data,\n      defaultValue = _config.defaultValue,\n      _config$format = _config.format,\n      format = _config$format === void 0 ? defaultFormat : _config$format,\n      formatOnBlur = _config.formatOnBlur,\n      initialValue = _config.initialValue,\n      multiple = _config.multiple,\n      _config$parse = _config.parse,\n      parse = _config$parse === void 0 ? defaultParse : _config$parse,\n      _config$subscription = _config.subscription,\n      subscription = _config$subscription === void 0 ? all : _config$subscription,\n      type = _config.type,\n      validateFields = _config.validateFields,\n      _value = _config.value;\n  var form = useForm(\"useField\");\n  var configRef = useLatest(config);\n\n  var register = function register(callback, silent) {\n    return (// avoid using `state` const in any closures created inside `register`\n      // because they would refer `state` from current execution context\n      // whereas actual `state` would defined in the subsequent `useField` hook\n      // execution\n      // (that would be caused by `setState` call performed in `register` callback)\n      form.registerField(name, callback, subscription, {\n        afterSubmit: afterSubmit,\n        beforeSubmit: function beforeSubmit() {\n          var _configRef$current = configRef.current,\n              beforeSubmit = _configRef$current.beforeSubmit,\n              formatOnBlur = _configRef$current.formatOnBlur,\n              _configRef$current$fo = _configRef$current.format,\n              format = _configRef$current$fo === void 0 ? defaultFormat : _configRef$current$fo;\n\n          if (formatOnBlur) {\n            var _ref = form.getFieldState(name),\n                value = _ref.value;\n\n            var formatted = format(value, name);\n\n            if (formatted !== value) {\n              form.change(name, formatted);\n            }\n          }\n\n          return beforeSubmit && beforeSubmit();\n        },\n        data: data,\n        defaultValue: defaultValue,\n        getValidator: function getValidator() {\n          return configRef.current.validate;\n        },\n        initialValue: initialValue,\n        isEqual: function isEqual(a, b) {\n          return (configRef.current.isEqual || defaultIsEqual)(a, b);\n        },\n        silent: silent,\n        validateFields: validateFields\n      })\n    );\n  };\n\n  var firstRender = React.useRef(true); // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {}; // temporarily disable destroyOnUnregister\n\n    // temporarily disable destroyOnUnregister\n    var destroyOnUnregister = form.destroyOnUnregister;\n    form.destroyOnUnregister = false;\n    register(function (state) {\n      initialState = state;\n    }, true)(); // return destroyOnUnregister to its original value\n\n    // return destroyOnUnregister to its original value\n    form.destroyOnUnregister = destroyOnUnregister;\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return register(function (state) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(state);\n      }\n    }, false);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [name, data, defaultValue, // If we want to allow inline fat-arrow field-level validation functions, we\n  // cannot reregister field every time validate function !==.\n  // validate,\n  initialValue // The validateFields array is often passed as validateFields={[]}, creating\n  // a !== new array every time. If it needs to be changed, a rerender/reregister\n  // can be forced by changing the key prop\n  // validateFields\n  ]);\n  var meta = {};\n  addLazyFieldMetaState(meta, state);\n  var input = {\n    name: name,\n\n    get value() {\n      var value = state.value;\n\n      if (formatOnBlur) {\n        if (component === \"input\") {\n          value = defaultFormat(value);\n        }\n      } else {\n        value = format(value, name);\n      }\n\n      if (value === null && !allowNull) {\n        value = \"\";\n      }\n\n      if (type === \"checkbox\" || type === \"radio\") {\n        return _value;\n      } else if (component === \"select\" && multiple) {\n        return value || [];\n      }\n\n      return value;\n    },\n\n    get checked() {\n      var value = state.value;\n\n      if (type === \"checkbox\") {\n        value = format(value, name);\n\n        if (_value === undefined) {\n          return !!value;\n        } else {\n          return !!(Array.isArray(value) && ~value.indexOf(_value));\n        }\n      } else if (type === \"radio\") {\n        return format(value, name) === _value;\n      }\n\n      return undefined;\n    },\n\n    onBlur: useConstantCallback(function (event) {\n      state.blur();\n\n      if (formatOnBlur) {\n        /**\n         * Here we must fetch the value directly from Final Form because we cannot\n         * trust that our `state` closure has the most recent value. This is a problem\n         * if-and-only-if the library consumer has called `onChange()` immediately\n         * before calling `onBlur()`, but before the field has had a chance to receive\n         * the value update from Final Form.\n         */\n        var fieldState = form.getFieldState(state.name);\n        state.change(format(fieldState.value, state.name));\n      }\n    }),\n    onChange: useConstantCallback(function (event) {\n      // istanbul ignore next\n      if (process.env.NODE_ENV !== \"production\" && event && event.target) {\n        var targetType = event.target.type;\n        var unknown = ~[\"checkbox\", \"radio\", \"select-multiple\"].indexOf(targetType) && !type && component !== \"select\";\n\n        var _value2 = targetType === \"select-multiple\" ? state.value : _value;\n\n        if (unknown) {\n          console.error(\"You must pass `type=\\\"\" + (targetType === \"select-multiple\" ? \"select\" : targetType) + \"\\\"` prop to your Field(\" + name + \") component.\\n\" + (\"Without it we don't know how to unpack your `value` prop - \" + (Array.isArray(_value2) ? \"[\" + _value2 + \"]\" : \"\\\"\" + _value2 + \"\\\"\") + \".\"));\n        }\n      }\n\n      var value = event && event.target ? getValue(event, state.value, _value, isReactNative) : event;\n      state.change(parse(value, name));\n    }),\n    onFocus: useConstantCallback(function (event) {\n      return state.focus();\n    })\n  };\n\n  if (multiple) {\n    input.multiple = multiple;\n  }\n\n  if (type !== undefined) {\n    input.type = type;\n  }\n\n  var renderProps = {\n    input: input,\n    meta: meta\n  }; // assign to force Flow check\n\n  return renderProps;\n}\n\nvar _excluded = [\"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"children\", \"component\", \"data\", \"defaultValue\", \"format\", \"formatOnBlur\", \"initialValue\", \"isEqual\", \"multiple\", \"name\", \"parse\", \"subscription\", \"type\", \"validate\", \"validateFields\", \"value\"];\nvar Field = /*#__PURE__*/React.forwardRef(function Field(_ref, ref) {\n  var afterSubmit = _ref.afterSubmit,\n      allowNull = _ref.allowNull,\n      beforeSubmit = _ref.beforeSubmit,\n      children = _ref.children,\n      component = _ref.component,\n      data = _ref.data,\n      defaultValue = _ref.defaultValue,\n      format = _ref.format,\n      formatOnBlur = _ref.formatOnBlur,\n      initialValue = _ref.initialValue,\n      isEqual = _ref.isEqual,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      parse = _ref.parse,\n      subscription = _ref.subscription,\n      type = _ref.type,\n      validate = _ref.validate,\n      validateFields = _ref.validateFields,\n      value = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var field = useField(name, {\n    afterSubmit: afterSubmit,\n    allowNull: allowNull,\n    beforeSubmit: beforeSubmit,\n    children: children,\n    component: component,\n    data: data,\n    defaultValue: defaultValue,\n    format: format,\n    formatOnBlur: formatOnBlur,\n    initialValue: initialValue,\n    isEqual: isEqual,\n    multiple: multiple,\n    parse: parse,\n    subscription: subscription,\n    type: type,\n    validate: validate,\n    validateFields: validateFields,\n    value: value\n  });\n\n  if (typeof children === \"function\") {\n    return children(_extends({}, field, rest));\n  }\n\n  if (typeof component === \"string\") {\n    // ignore meta, combine input with any other props\n    return /*#__PURE__*/React.createElement(component, _extends({}, field.input, {\n      children: children,\n      ref: ref\n    }, rest));\n  }\n\n  if (!name) {\n    throw new Error(\"prop name cannot be undefined in <Field> component\");\n  }\n\n  return renderComponent(_extends({\n    children: children,\n    component: component,\n    ref: ref\n  }, rest), field, \"Field(\" + name + \")\");\n});\n\nfunction withTypes() {\n  return {\n    Form: ReactFinalForm,\n    FormSpy: FormSpy\n  };\n}\n\nexport { Field, ReactFinalForm as Form, FormSpy, useField, useForm, useFormState, version, withTypes };\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container__ZxswZ\",\"block\":\"block__AnsoC\",\"image\":\"image__Qj9Qg\",\"text\":\"text__jhtdp\",\"text--black\":\"text--black__0ITLJ\",\"text--white\":\"text--white__hD39s\",\"link\":\"link__RPpkS\"};","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"grid__wWlFh\",\"grid__item\":\"grid__item__xdxGY\",\"stock__pagination\":\"stock__pagination__-MAwb\"};","const sortTypes = {\n    popular: 'По популярности',\n    price: 'По цене',\n};\n\nexport default sortTypes;\n","import style from './style.scss';\n\nimport BlockTitle from '../../ui/block-title/';\n\nconst SectionTemplate = ({ className = '', title, children }) => (\n    <section class={`${style.homeSection} ${className}`}>\n        <div class=\"_container\">\n            <BlockTitle>{title}</BlockTitle>\n\n            {children}\n        </div>\n    </section>\n);\n\nexport default SectionTemplate;\n","import style from './style.scss';\n\nconst BlockTitle = ({ children, color }) => (\n    <h2 class={`${style.blockTitle} ${style[`blockTitle--${color || 'black'}`]}`}>{children}</h2>\n);\n\nexport default BlockTitle;\n","import axios from 'axios';\r\n\r\nexport const getBooks = ({ search = false, sortType = false, filters = {}, pagination = {}, onSale = false } = {}) =>\r\n    new Promise(resolve => {\r\n        // Delay for testing purposes\r\n        setTimeout(async () => {\r\n            let paramsQuery = '?';\r\n\r\n            paramsQuery += search ? `search=${search}&` : '';\r\n            paramsQuery += sortType ? `sortType=${sortType}&` : '';\r\n            paramsQuery += onSale ? `onSale=true&` : '';\r\n            paramsQuery += pagination ? `page=${pagination.page}&perPage=${pagination.perPage}&` : '';\r\n\r\n            for (const filterKey in filters) {\r\n                const filterValue = filters[filterKey];\r\n\r\n                if (filterValue !== Object(filterValue)) {\r\n                    paramsQuery += `${filterKey}=${filterValue}&`;\r\n                } else if (Array.isArray(filterValue)) {\r\n                    paramsQuery += `${filterKey}=${filterValue.join()}&`;\r\n                }\r\n            }\r\n\r\n            paramsQuery = paramsQuery.slice(0, -1);\r\n\r\n            const promise = await axios.get(`/api/books${paramsQuery}`);\r\n\r\n            resolve(promise.data);\r\n        }, 0);\r\n    });\r\n\r\nexport const getOneBook = (id) =>\r\n    new Promise(resolve => {\r\n        // Delay for testing purposes\r\n        setTimeout(async () => {\r\n            const promise = await axios.get(`/api/book/${id}`);\r\n\r\n            resolve(promise.data);\r\n        }, 1000);\r\n    });\r\n"],"sourceRoot":""}