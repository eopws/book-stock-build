(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Bhjy:function(a,e,t){"use strict";t.r(e),function(a,i){var c=t("QRet"),_=t("SKo0"),l=t("xkrW"),s=t("Tf6/"),r=t("QU/D"),n=t("OaEI"),o=t("Y3FI");e.default=({id:e})=>{const[t,p]=Object(c.l)(null);if(Object(c.d)((()=>{(async()=>{p(await Object(l.b)(e))})()}),[]),!t)return a(i,null,"loading...");const d=[];for(let e=0;e<5;e++)d.push(a("i",t.rating>e?{class:`icon-star ${_.a.metaField__star}`}:{class:`icon-star-empty ${_.a.metaField__star} ${_.a["metaField__star--empty"]}`}));const u=a(i,null,a("p",null,t.description.slice(0,300)),a("p",null,t.description.slice(300,700)),a("p",null,t.description.slice(700))),m=Object(r.a)(t),b=Object(c.a)((()=>m((()=>Object(o.route)("/cart")))),[]);return a("main",{class:_.a.page},a("div",{class:`${_.a.page__blackout} _blackout _blackout--visible`}),a("div",{class:`${_.a.page__background} _ibg`,style:{backgroundImage:`url(/${t.bgImg})`}}),a("div",{class:`${_.a.page__content} ${_.a.article} _container`},a("div",{class:_.a.articleMeta},a("div",{class:`${_.a.articleMeta__img} _ibg`,style:{backgroundImage:`url(/${t.img})`}}),a("div",{class:`${_.a.articleMeta__info} ${_.a.articleMetaInfo}`},a("div",{class:_.a.metaField},a("span",{class:_.a.metaField__key},"Название :"),a("span",{class:_.a.metaField__value},t.name)),a("div",{class:_.a.metaField},a("span",{class:_.a.metaField__key},"Автор :"),a("span",{class:_.a.metaField__value},t.author)),a("div",{class:_.a.metaField},a("span",{class:_.a.metaField__key},"Год :"),a("span",{class:_.a.metaField__value},t.year)),a("div",{class:_.a.metaField},a("span",{class:_.a.metaField__key},"Рейтинг :"),a("div",{class:_.a.metaField__value},a("div",{class:_.a.metaField__starWrapper},d.map((a=>a))),a("span",{class:"rating-number"},t.ratingNumber))),a("div",{class:_.a.articleMetaInfo__footer},a(s.a,{onClick:b},"Купить"),a("span",{class:`${_.a.articleMetaInfo__price} ${t.salePrice&&_.a["articleMetaInfo__price--sale"]}`},t.price," Р"),t.salePrice?a("span",{class:_.a.articleMetaInfo__salePrice},t.salePrice," Р"):"",a(n.a,{className:_.a.articleMetaInfo__heart,book:t})))),a("div",{class:_.a.article__textWrapper},a("h3",{class:_.a.article__textTitle},"Описание :"),a("div",{class:_.a.article__text},u))))}}.call(this,t("hosL").h,t("hosL").Fragment)},OaEI:function(a,e,t){"use strict";(function(a){var i=t("QU/D");e.a=({className:e,checked:t,book:c})=>{const _=Object(i.a)(c);return a("button",{class:`${e} ${t?"icon-heart":"icon-heart-empty"}`,onClick:_})}}).call(this,t("hosL").h)},"QU/D":function(a,e,t){"use strict";var i=t("QRet"),c=t("/m4v"),_=t("lCHH"),l=t("6ZK8");e.a=a=>{const e=Object(c.c)((a=>a.authReducer)),t=Object(c.b)(),[s,r]=Object(i.l)(!1),n=Object(i.a)((i=>{e.isAuthenticated?(t(Object(l.a)(a)),i()):(t(Object(_.c)(!0)),r(!0))}),[e.isAuthenticated,a]);return Object(i.d)((()=>{s&&(t(Object(l.a)(a)),r(!1))}),[e.isAuthenticated]),Object(i.d)((()=>{e.isAuthPopupOpen||r(!1)}),[e.isAuthPopupOpen]),n}},SKo0:function(a,e){"use strict";e.a={page:"page__wdGtf",page__blackout:"page__blackout__3al1U",page__background:"page__background__f49gZ",page__content:"page__content__F0c1j",article__textWrapper:"article__textWrapper__Btcdo",article__textTitle:"article__textTitle__MXrRG",article__text:"article__text__n2mnt",articleMeta:"articleMeta__yEpYW",articleMeta__img:"articleMeta__img__PH1I+",articleMeta__info:"articleMeta__info__J0dNi",articleMetaInfo__footer:"articleMetaInfo__footer__88aAm",articleMetaInfo__price:"articleMetaInfo__price__ugF5l","articleMetaInfo__price--sale":"articleMetaInfo__price--sale__t2Aa-",articleMetaInfo__salePrice:"articleMetaInfo__salePrice__uEhl-",articleMetaInfo__heart:"articleMetaInfo__heart__gLJR8",metaField:"metaField__BbVMf",metaField__key:"metaField__key__GKDHd",metaField__value:"metaField__value__BBuyN",metaField__starWrapper:"metaField__starWrapper__4R88S",metaField__star:"metaField__star__A5ajA","metaField__star--empty":"metaField__star--empty__yeMpK"}},xkrW:function(a,e,t){"use strict";t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return _}));var i=t("czhI");const c=({search:a=!1,sortType:e=!1,filters:t={},pagination:c={},onSale:_=!1}={})=>new Promise((l=>{setTimeout((async()=>{let s="?";s+=a?`search=${a}&`:"",s+=e?`sortType=${e}&`:"",s+=_?"onSale=true&":"",s+=c?`page=${c.page}&perPage=${c.perPage}&`:"";for(const a in t){const e=t[a];e!==Object(e)?s+=`${a}=${e}&`:Array.isArray(e)&&(s+=`${a}=${e.join()}&`)}s=s.slice(0,-1);const r=await i.a.get(`/api/books${s}`);l(r.data)}),0)})),_=a=>new Promise((e=>{setTimeout((async()=>{const t=await i.a.get(`/api/book/${a}`);e(t.data)}),1e3)}))}}]);
//# sourceMappingURL=route-book.chunk.1753f.esm.js.map